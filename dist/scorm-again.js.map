{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/AICC.js","src/BaseAPI.js","src/Scorm12API.js","src/Scorm2004API.js","src/cmi/aicc_cmi.js","src/cmi/common.js","src/cmi/scorm12_cmi.js","src/cmi/scorm2004_cmi.js","src/constants/api_constants.js","src/constants/error_codes.js","src/constants/language_constants.js","src/constants/regex.js","src/constants/response_constants.js","src/exceptions.js","src/exports.js","src/utilities.js"],"names":["_Scorm12API2","_interopRequireDefault","require","_aicc_cmi","_scorm12_cmi","AICC","settings","_this","_classCallCheck","this","finalSettings","_objectSpread","mastery_override","_super","call","cmi","CMI","nav","NAV","CMIElement","value","foundFirstIndex","newChild","_get","_getPrototypeOf","prototype","stringMatches","CMIEvaluationCommentsObject","CMITriesObject","CMIAttemptRecordsObject","newAPI","Scorm12API","_common","_exceptions","_error_codes2","_api_constants","_utilities","global_constants","APIConstants","global","scorm12_error_codes","ErrorCodes","scorm12","BaseAPI","error_codes","_timeout","set","writable","_error_codes","_settings","autocommit","autocommitSeconds","lmsCommitUrl","dataCommitFormat","commitRequestDataType","autoProgress","logLevel","LOG_LEVEL_ERROR","responseHandler","xhr","result","JSON","parse","responseText","hasOwnProperty","status","SCORM_TRUE","SCORM_FALSE","errorCode","_defineProperty","constructor","TypeError","currentState","STATE_NOT_INITIALIZED","lastErrorCode","listenerArray","_classPrivateFieldSet","apiLogLevel","callbackName","initializeMessage","terminationMessage","returnValue","isInitialized","throwSCORMError","_classPrivateFieldGet","INITIALIZED","isTerminated","TERMINATED","STATE_INITIALIZED","processListeners","apiLog","LOG_LEVEL_INFO","clearSCORMError","checkTerminated","checkState","TERMINATION_BEFORE_INIT","MULTIPLE_TERMINATION","STATE_TERMINATED","storeData","RETRIEVE_BEFORE_INIT","RETRIEVE_AFTER_TERM","getCMIValue","undefined","String","STORE_BEFORE_INIT","STORE_AFTER_TERM","setCMIValue","e","ValidationError","message","console","error","GENERAL","scheduleCommit","clearScheduledCommit","COMMIT_BEFORE_INIT","COMMIT_AFTER_TERM","LOG_LEVEL_DEBUG","CMIErrorCode","getLmsErrorMessageDetails","beforeInitError","afterTermError","isNotInitialized","functionName","logMessage","messageLevel","formatMessage","LOG_LEVEL_WARNING","warn","info","debug","log","messageString","fillChars","length","i","j","str","tester","match","refObject","attribute","Object","getOwnPropertyDescriptor","getPrototypeOf","_errorNumber","_detail","Error","_CMIElement","_value","methodName","scorm2004","structure","split","invalidErrorMessage","concat","invalidErrorCode","UNDEFINED_DATA_MODEL","substr","_isTargetValid","READ_ONLY_ELEMENT","_checkObjectHasProperty","validateCorrectResponse","CMIArray","index","parseInt","isNaN","item","childArray","getChildElement","initialized","initialize","push","_foundFirstIndex","uninitializedErrorMessage","target","VALUE_NOT_INITIALIZED","CHILDREN_ERROR","COUNT_ERROR","listenerName","callback","listenerFunctions","listenerSplit","replace","listener","functionsMatch","listenerHasCMIElement","CMIElementsMatch","substring","indexOf","errorNumber","success","_calculateTotalTime","json","loadFromJSON","unflatten","startingData","key","currentCMIElement","stringify","renderCMIToJSONString","_terminateCommit","url","params","genericError","httpReq","XMLHttpRequest","open","Array","setRequestHeader","send","join","responseType","when","ScheduledCommit","cancel","API","_API","_cancelled","_timeout2","setTimeout","wrapper","bind","clearTimeout","commit","_BaseAPI2","Utilities","_interopRequireWildcard","scorm12_constants","LMSInitialize","lmsInitialize","LMSFinish","lmsFinish","LMSGetValue","lmsGetValue","LMSSetValue","lmsSetValue","LMSCommit","lmsCommit","LMSGetLastError","lmsGetLastError","LMSGetErrorString","lmsGetErrorString","LMSGetDiagnostic","lmsGetDiagnostic","terminate","event","getValue","setValue","getLastError","getErrorString","getDiagnostic","_commonSetCMIValue","_commonGetCMIValue","CMIObjectivesObject","CMIInteractionsCorrectResponsesObject","CMIInteractionsObjectivesObject","CMIInteractionsObject","detail","basicMessage","detailMessage","error_descriptions","terminateCommit","cmiExport","renderCMIToJSONObject","core","total_time","getCurrentTotalTime","flattened","flatten","originalStatus","lesson_status","lesson_mode","credit","student_data","mastery_score","score","raw","parseFloat","_this$startingData","_this$startingData$cm","_this$startingData$cm2","commitObject","renderCommitCMI","processHttpRequest","_scorm2004_cmi","_response_constants","_language_constants","_regex","scorm2004_constants","scorm2004_error_codes","correct_responses","Responses","correct","scorm2004_regex","Regex","Scorm2004API","_version","_assertThisInitialized","correct_response","current_index","found","count","_count","adl","ADL","Initialize","Terminate","lmsTerminate","GetValue","SetValue","Commit","GetLastError","GetErrorString","GetDiagnostic","request","parts","Number","interaction","interactions","type","interaction_type","interaction_count","response","pattern","GENERAL_SET_FAILURE","response_type","nodes","delimiter","max","checkCorrectResponseValue","DEPENDENCY_NOT_ESTABLISHED","CMICommentsObject","pattern_index","limit","duplicate","checkDuplicatedPattern","formatRegex","RegExp","format","removeCorrectResponsePrefixes","delimiter2","values","matches","format2","TYPE_MISMATCH","unique","node","seenOrder","seenCase","seenLang","prefixRegex","langMatches","CMILangcr","lang","ValidLanguages","toLowerCase","_this$startingData$ad","_this$startingData$ad2","mode","completion_threshold","progress_measure","completion_status","scaled_passing_score","scaled","success_status","navRequest","encodeURIComponent","Function","Scorm12CMI","aicc_constants","aicc","aicc_regex","cmi_children","student_preference","AICCStudentPreferences","AICCCMIStudentData","student_demographics","CMIStudentDemographics","evaluation","CMIEvaluation","paths","CMIPaths","_this$student_prefere","_this$student_data","_this$student_demogra","_this$evaluation","_this$paths","jsonString","suspend_data","launch_data","comments","comments_from_lms","objectives","_this2","_super2","CMIEvaluationComments","_this$comments","BaseCMI","_super3","comments_children","INVALID_SET_VALUE","_this3","_super4","student_preference_children","_lesson_type","_text_color","_text_location","_text_size","_video","windows","children","_this$windows","audio","language","lesson_type","speed","text","text_color","text_location","text_size","video","check12ValidFormat","CMIString256","CMIStudentPreference","_this4","_super5","student_data_children","_tries_during_lesson","tries","CMITries","_this$tries","max_time_allowed","time_limit_action","tries_during_lesson","throwReadOnlyError","CMIStudentData","_this5","_super6","_children","student_demographics_children","_city","_class","_company","_country","_experience","_familiar_name","_instructor_name","_title","_native_language","_state","_street_address","_telephone","_years_experience","city","class","company","country","experience","familiar_name","instructor_name","title","native_language","state","street_address","telephone","years_experience","clazz","_super7","paths_children","CMIPathsObject","_this6","_super8","_location_id","_date","_time","_status","_why_left","_time_in_element","location_id","date","time","why_left","time_in_element","CMITime","CMIStatus2","_super9","tries_children","_this7","_super10","_status2","_time2","CMIScore","score_children","score_range","invalidTypeCode","invalidRangeCode","VALUE_OUT_OF_RANGE","_this$score","CMIAttemptRecords","_super11","attempt_records_children","_this8","_super12","_lesson_status","_this$score2","_this9","_super13","_content","_location","_time3","content","location","checkValidFormat","regexPattern","allowEmptyString","checkValidRange","rangePattern","ranges","scorm12_regex","_initialized","_ref","decimalRegex","_children2","_score_range","_invalid_error_code","_invalid_type_code","_invalid_range_code","_decimal_regex","_raw","_min","_max","CMIDecimal","min","_ref2","_errorCode","_children3","throwWriteOnlyError","WRITE_ONLY_ELEMENT","throwInvalidValueError","check12ValidRange","_version2","_launch_data","_comments","_comments_from_lms","CMICore","CMIObjectives","CMIInteractions","_this$core","_this$objectives","_this$interactions","_this$core2","CMIString4096","core_children","_student_id","_student_name","_lesson_location","_credit","_entry","_total_time","_lesson_mode","_exit","_session_time","_suspend_data","addHHMMSSTimeStrings","CMITimespan","student_id","student_name","lesson_location","entry","exit","session_time","CMIStatus","CMIExit","objectives_children","_children4","_mastery_score","_max_time_allowed","_time_limit_action","_children5","_audio","_language","_speed","_text","CMISInteger","audio_range","speed_range","text_range","interactions_children","_id","_type","_weighting","_student_response","_result","_latency","correct_responses_children","_this$objectives2","_this$correct_respons","id","weighting","student_response","latency","CMIIdentifier","CMIType","weighting_range","CMIFeedback","CMIResult","_id2","_id3","_pattern","_event","NAVEvent","throwTypeMismatchError","check2004ValidFormat","check2004ValidRange","Util","learner_responses","learner","_completion_status","_completion_threshold","_learner_id","_learner_name","_mode","_progress_measure","_scaled_passing_score","_success_status","learner_preference","CMILearnerPreference","Scorm2004CMIScore","comments_from_learner","CMICommentsFromLearner","CMICommentsFromLMS","_this$learner_prefere","_this$comments_from_l","_this$comments_from_l2","addTwoDurations","learner_id","learner_name","CMICStatus","CMIString1000","progress_range","CMISStatus","CMIString64000","_audio_level","_delivery_speed","_audio_captioning","audio_level","delivery_speed","audio_captioning","CMILang","_timestamp","_learner_response","_description","timestamp","learner_response","description","CMILongIdentifier","CMILangString250","_success_status2","_completion_status2","_progress_measure2","_description2","_scaled","scaled_range","readOnlyAfterInit","arguments","_comment","_location2","_timestamp2","_readOnlyAfterInit","comment","CMILangString4000","CMIString250","ADLNav","_this$nav","_this10","_super14","_request","request_valid","ADLNavRequestValid","_this$request_valid","_this11","_super15","_continue","_previous","_temp","_target","_temp2","previous","continue","_","LOG_LEVEL_NONE","101","201","202","203","301","401","402","403","404","405","0","102","103","104","111","112","113","122","123","132","133","142","143","351","391","406","407","408","INITIALIZATION_FAILED","TERMINATION_FAILURE","ARGUMENT_ERROR","GENERAL_GET_FAILURE","GENERAL_COMMIT_FAILURE","UNIMPLEMENTED_ELEMENT","MULTIPLE_TERMINATIONS","aa","ab","ae","af","ak","am","an","ar","as","av","ay","az","ba","be","bg","bh","bi","bm","bn","bo","br","bs","ca","ce","ch","co","cr","cs","cu","cv","cy","da","de","dv","dz","ee","el","en","eo","es","et","eu","fa","ff","fi","fj","fo","fr","fy","ga","gd","gl","gn","gu","gv","ha","he","hi","ho","hr","ht","hu","hy","hz","ia","ie","ig","ii","ik","io","is","it","iu","ja","jv","ka","kg","ki","kj","kk","kl","km","kn","ko","kr","ks","ku","kv","kw","ky","la","lb","lg","li","ln","lo","lt","lu","lv","mg","mh","mi","mk","ml","mn","mo","mr","ms","mt","my","na","nb","nd","ne","ng","nl","nn","no","nr","nv","ny","oc","oj","om","or","os","pa","pi","pl","ps","pt","qu","rm","rn","ro","ru","rw","sa","sc","sd","se","sg","sh","si","sk","sl","sm","sn","so","sq","sr","ss","st","su","sv","sw","ta","te","tg","th","ti","tk","tl","tn","to","tr","ts","tt","tw","ty","ug","uk","ur","uz","ve","vi","vo","wa","wo","xh","yi","yo","za","zh","zu","aar","abk","ave","afr","aka","amh","arg","ara","asm","ava","aym","aze","bak","bel","bul","bih","bis","bam","ben","tib","bod","bre","bos","cat","che","cha","cos","cre","cze","ces","chu","chv","wel","cym","dan","ger","deu","div","dzo","ewe","gre","ell","eng","epo","spa","est","baq","eus","per","fas","ful","fin","fij","fao","fre","fra","fry","gle","gla","glg","grn","guj","glv","hau","heb","hin","hmo","hrv","hat","hun","arm","hye","her","ina","ind","ile","ibo","iii","ipk","ido","ice","isl","ita","iku","jpn","jav","geo","kat","kon","kik","kua","kaz","kal","khm","kan","kor","kau","kas","kur","kom","cor","kir","lat","ltz","lug","lim","lin","lao","lit","lub","lav","mlg","mah","mao","mri","mac","mkd","mal","mon","mol","mar","may","msa","mlt","bur","mya","nau","nob","nde","nep","ndo","dut","nld","nno","nor","nbl","nya","oci","oji","orm","ori","oss","pan","pli","pol","pus","por","que","roh","run","rum","ron","rus","kin","san","srd","snd","sme","sag","slo","sin","slk","slv","smo","sna","som","alb","sqi","srp","ssw","sot","sun","swe","swa","tam","tel","tgk","tha","tir","tuk","tgl","tsn","ton","tur","tso","tat","twi","tah","uig","ukr","urd","uzb","ven","vie","vol","wln","wol","xho","yid","yor","zha","chi","zho","zul","CMIInteger","CMIIndex","CMIString200","CMIString4000","CMILangString250cr","CMIShortIdentifier","CMIIndexStore","NAVBoolean","NAVTarget","true-false","choice","fill-in","long-fill-in","matching","performance","sequencing","likert","numeric","other","_Scorm2004API","_Scorm12API","_AICC","window","getSecondsAsHHMMSS","totalSeconds","hours","Math","floor","SECONDS_PER_HOUR","dateObj","Date","minutes","getUTCMinutes","seconds","getSeconds","msStr","countDecimals","toFixed","getSecondsAsISODuration","duration","remainder","designations","forEach","_slicedToArray","sign","current_seconds","getTimeAsSeconds","timeString","timeRegex","getDurationAsSeconds","durationRegex","_ref3","exec","_ref4","years","days","first","second","data","recurse","cur","prop","isArray","l","isEmpty","p","regex","m","num","toString","SECONDS_PER_SECOND","SECONDS_PER_MINUTE","SECONDS_PER_DAY"],"mappings":"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ClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAAMC,GAAM,KAClEC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAC/DC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IAAO,MAAOC,IA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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","// @flow\nimport Scorm12API from './Scorm12API';\nimport {\n  CMI,\n  CMIAttemptRecordsObject,\n  CMIEvaluationCommentsObject,\n  CMITriesObject,\n} from './cmi/aicc_cmi';\nimport {NAV} from './cmi/scorm12_cmi';\n\n/**\n * The AICC API class\n */\nexport default class AICC extends Scorm12API {\n  /**\n   * Constructor to create AICC API object\n   * @param {object} settings\n   */\n  constructor(settings: {}) {\n    const finalSettings = {\n      ...{\n        mastery_override: false,\n      }, ...settings,\n    };\n\n    super(finalSettings);\n\n    this.cmi = new CMI();\n    this.nav = new NAV();\n  }\n\n  /**\n   * Gets or builds a new child element to add to the array.\n   *\n   * @param {string} CMIElement\n   * @param {any} value\n   * @param {boolean} foundFirstIndex\n   * @return {object}\n   */\n  getChildElement(CMIElement, value, foundFirstIndex) {\n    let newChild = super.getChildElement(CMIElement, value, foundFirstIndex);\n\n    if (!newChild) {\n      if (this.stringMatches(CMIElement, 'cmi\\\\.evaluation\\\\.comments\\\\.\\\\d')) {\n        newChild = new CMIEvaluationCommentsObject();\n      } else if (this.stringMatches(CMIElement,\n          'cmi\\\\.student_data\\\\.tries\\\\.\\\\d')) {\n        newChild = new CMITriesObject();\n      } else if (this.stringMatches(CMIElement,\n          'cmi\\\\.student_data\\\\.attempt_records\\\\.\\\\d')) {\n        newChild = new CMIAttemptRecordsObject();\n      }\n    }\n\n    return newChild;\n  }\n\n  /**\n   * Replace the whole API with another\n   *\n   * @param {AICC} newAPI\n   */\n  replaceWithAnotherScormAPI(newAPI) {\n    // Data Model\n    this.cmi = newAPI.cmi;\n    this.nav = newAPI.nav;\n  }\n}\n","// @flow\nimport {CMIArray} from './cmi/common';\nimport {ValidationError} from './exceptions';\nimport ErrorCodes from './constants/error_codes';\nimport APIConstants from './constants/api_constants';\nimport {unflatten} from './utilities';\n\nconst global_constants = APIConstants.global;\nconst scorm12_error_codes = ErrorCodes.scorm12;\n\n/**\n * Base API class for AICC, SCORM 1.2, and SCORM 2004. Should be considered\n * abstract, and never initialized on it's own.\n */\nexport default class BaseAPI {\n  #timeout;\n  #error_codes;\n  #settings = {\n    autocommit: false,\n    autocommitSeconds: 10,\n    lmsCommitUrl: false,\n    dataCommitFormat: 'json', // valid formats are 'json' or 'flattened', 'params'\n    commitRequestDataType: 'application/json;charset=UTF-8',\n    autoProgress: false,\n    logLevel: global_constants.LOG_LEVEL_ERROR,\n    responseHandler: function(xhr) {\n      let result;\n      if (typeof xhr !== 'undefined') {\n        result = JSON.parse(xhr.responseText);\n        if (result === null || !{}.hasOwnProperty.call(result, 'result')) {\n          result = {};\n          if (xhr.status === 200) {\n            result.result = global_constants.SCORM_TRUE;\n          } else {\n            result.result = global_constants.SCORM_FALSE;\n            result.errorCode = 101;\n          }\n        }\n      }\n      return result;\n    },\n  };\n  cmi;\n  startingData: {};\n\n  /**\n   * Constructor for Base API class. Sets some shared API fields, as well as\n   * sets up options for the API.\n   * @param {object} error_codes\n   * @param {object} settings\n   */\n  constructor(error_codes, settings) {\n    if (new.target === BaseAPI) {\n      throw new TypeError('Cannot construct BaseAPI instances directly');\n    }\n    this.currentState = global_constants.STATE_NOT_INITIALIZED;\n    this.lastErrorCode = 0;\n    this.listenerArray = [];\n\n    this.#timeout = null;\n    this.#error_codes = error_codes;\n\n    this.settings = settings;\n    this.apiLogLevel = this.settings.logLevel;\n  }\n\n  /**\n   * Initialize the API\n   * @param {string} callbackName\n   * @param {string} initializeMessage\n   * @param {string} terminationMessage\n   * @return {string}\n   */\n  initialize(\n      callbackName: String,\n      initializeMessage?: String,\n      terminationMessage?: String) {\n    let returnValue = global_constants.SCORM_FALSE;\n\n    if (this.isInitialized()) {\n      this.throwSCORMError(this.#error_codes.INITIALIZED, initializeMessage);\n    } else if (this.isTerminated()) {\n      this.throwSCORMError(this.#error_codes.TERMINATED, terminationMessage);\n    } else {\n      this.currentState = global_constants.STATE_INITIALIZED;\n      this.lastErrorCode = 0;\n      returnValue = global_constants.SCORM_TRUE;\n      this.processListeners(callbackName);\n    }\n\n    this.apiLog(callbackName, null, 'returned: ' + returnValue,\n        global_constants.LOG_LEVEL_INFO);\n    this.clearSCORMError(returnValue);\n\n    return returnValue;\n  }\n\n  /**\n   * Getter for #settings\n   * @return {object}\n   */\n  get settings() {\n    return this.#settings;\n  }\n\n  /**\n   * Setter for #settings\n   * @param {object} settings\n   */\n  set settings(settings: Object) {\n    this.#settings = {...this.#settings, ...settings};\n  }\n\n  /**\n   * Terminates the current run of the API\n   * @param {string} callbackName\n   * @param {boolean} checkTerminated\n   * @return {string}\n   */\n  terminate(\n      callbackName: String,\n      checkTerminated: boolean) {\n    let returnValue = global_constants.SCORM_FALSE;\n\n    if (this.checkState(checkTerminated,\n        this.#error_codes.TERMINATION_BEFORE_INIT,\n        this.#error_codes.MULTIPLE_TERMINATION)) {\n      this.currentState = global_constants.STATE_TERMINATED;\n\n      const result = this.storeData(true);\n      if (typeof result.errorCode !== 'undefined' && result.errorCode > 0) {\n        this.throwSCORMError(result.errorCode);\n      }\n      returnValue = result.result ?\n        result.result : global_constants.SCORM_FALSE;\n\n      if (checkTerminated) this.lastErrorCode = 0;\n\n      returnValue = global_constants.SCORM_TRUE;\n      this.processListeners(callbackName);\n    }\n\n    this.apiLog(callbackName, null, 'returned: ' + returnValue,\n        global_constants.LOG_LEVEL_INFO);\n    this.clearSCORMError(returnValue);\n\n    return returnValue;\n  }\n\n  /**\n   * Get the value of the CMIElement.\n   *\n   * @param {string} callbackName\n   * @param {boolean} checkTerminated\n   * @param {string} CMIElement\n   * @return {string}\n   */\n  getValue(\n      callbackName: String,\n      checkTerminated: boolean,\n      CMIElement: String) {\n    let returnValue;\n\n    if (this.checkState(checkTerminated,\n        this.#error_codes.RETRIEVE_BEFORE_INIT,\n        this.#error_codes.RETRIEVE_AFTER_TERM)) {\n      if (checkTerminated) this.lastErrorCode = 0;\n      returnValue = this.getCMIValue(CMIElement);\n      this.processListeners(callbackName, CMIElement);\n    }\n\n    this.apiLog(callbackName, CMIElement, ': returned: ' + returnValue,\n        global_constants.LOG_LEVEL_INFO);\n    this.clearSCORMError(returnValue);\n\n    return returnValue;\n  }\n\n  /**\n   * Sets the value of the CMIElement.\n   *\n   * @param {string} callbackName\n   * @param {boolean} checkTerminated\n   * @param {string} CMIElement\n   * @param {*} value\n   * @return {string}\n   */\n  setValue(\n      callbackName: String,\n      checkTerminated: boolean,\n      CMIElement,\n      value) {\n    if (value !== undefined) {\n      value = String(value);\n    }\n    let returnValue = global_constants.SCORM_FALSE;\n\n    if (this.checkState(checkTerminated, this.#error_codes.STORE_BEFORE_INIT,\n        this.#error_codes.STORE_AFTER_TERM)) {\n      if (checkTerminated) this.lastErrorCode = 0;\n      try {\n        returnValue = this.setCMIValue(CMIElement, value);\n      } catch (e) {\n        if (e instanceof ValidationError) {\n          this.lastErrorCode = e.errorCode;\n          returnValue = global_constants.SCORM_FALSE;\n        } else {\n          if (e.message) {\n            console.error(e.message);\n          } else {\n            console.error(e);\n          }\n          this.throwSCORMError(this.#error_codes.GENERAL);\n        }\n      }\n      this.processListeners(callbackName, CMIElement, value);\n    }\n\n    if (returnValue === undefined) {\n      returnValue = global_constants.SCORM_FALSE;\n    }\n\n    // If we didn't have any errors while setting the data, go ahead and\n    // schedule a commit, if autocommit is turned on\n    if (String(this.lastErrorCode) === '0') {\n      if (this.settings.autocommit && !this.#timeout) {\n        this.scheduleCommit(this.settings.autocommitSeconds * 1000);\n      }\n    }\n\n    this.apiLog(callbackName, CMIElement,\n        ': ' + value + ': result: ' + returnValue,\n        global_constants.LOG_LEVEL_INFO);\n    this.clearSCORMError(returnValue);\n\n    return returnValue;\n  }\n\n  /**\n   * Orders LMS to store all content parameters\n   * @param {string} callbackName\n   * @param {boolean} checkTerminated\n   * @return {string}\n   */\n  commit(\n      callbackName: String,\n      checkTerminated: boolean) {\n    this.clearScheduledCommit();\n\n    let returnValue = global_constants.SCORM_FALSE;\n\n    if (this.checkState(checkTerminated, this.#error_codes.COMMIT_BEFORE_INIT,\n        this.#error_codes.COMMIT_AFTER_TERM)) {\n      const result = this.storeData(false);\n      if (result.errorCode && result.errorCode > 0) {\n        this.throwSCORMError(result.errorCode);\n      }\n      returnValue = result.result ?\n        result.result : global_constants.SCORM_FALSE;\n\n      this.apiLog(callbackName, 'HttpRequest', ' Result: ' + returnValue,\n          global_constants.LOG_LEVEL_DEBUG);\n\n      if (checkTerminated) this.lastErrorCode = 0;\n\n      this.processListeners(callbackName);\n    }\n\n    this.apiLog(callbackName, null, 'returned: ' + returnValue,\n        global_constants.LOG_LEVEL_INFO);\n    this.clearSCORMError(returnValue);\n\n    return returnValue;\n  }\n\n  /**\n   * Returns last error code\n   * @param {string} callbackName\n   * @return {string}\n   */\n  getLastError(callbackName: String) {\n    const returnValue = String(this.lastErrorCode);\n\n    this.processListeners(callbackName);\n\n    this.apiLog(callbackName, null, 'returned: ' + returnValue,\n        global_constants.LOG_LEVEL_INFO);\n\n    return returnValue;\n  }\n\n  /**\n   * Returns the errorNumber error description\n   *\n   * @param {string} callbackName\n   * @param {(string|number)} CMIErrorCode\n   * @return {string}\n   */\n  getErrorString(callbackName: String, CMIErrorCode) {\n    let returnValue = '';\n\n    if (CMIErrorCode !== null && CMIErrorCode !== '') {\n      returnValue = this.getLmsErrorMessageDetails(CMIErrorCode);\n      this.processListeners(callbackName);\n    }\n\n    this.apiLog(callbackName, null, 'returned: ' + returnValue,\n        global_constants.LOG_LEVEL_INFO);\n\n    return returnValue;\n  }\n\n  /**\n   * Returns a comprehensive description of the errorNumber error.\n   *\n   * @param {string} callbackName\n   * @param {(string|number)} CMIErrorCode\n   * @return {string}\n   */\n  getDiagnostic(callbackName: String, CMIErrorCode) {\n    let returnValue = '';\n\n    if (CMIErrorCode !== null && CMIErrorCode !== '') {\n      returnValue = this.getLmsErrorMessageDetails(CMIErrorCode, true);\n      this.processListeners(callbackName);\n    }\n\n    this.apiLog(callbackName, null, 'returned: ' + returnValue,\n        global_constants.LOG_LEVEL_INFO);\n\n    return returnValue;\n  }\n\n  /**\n   * Checks the LMS state and ensures it has been initialized.\n   *\n   * @param {boolean} checkTerminated\n   * @param {number} beforeInitError\n   * @param {number} afterTermError\n   * @return {boolean}\n   */\n  checkState(\n      checkTerminated: boolean,\n      beforeInitError: number,\n      afterTermError?: number) {\n    if (this.isNotInitialized()) {\n      this.throwSCORMError(beforeInitError);\n      return false;\n    } else if (checkTerminated && this.isTerminated()) {\n      this.throwSCORMError(afterTermError);\n      return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Logging for all SCORM actions\n   *\n   * @param {string} functionName\n   * @param {string} CMIElement\n   * @param {string} logMessage\n   * @param {number}messageLevel\n   */\n  apiLog(\n      functionName: String,\n      CMIElement: String,\n      logMessage: String,\n      messageLevel: number) {\n    logMessage = this.formatMessage(functionName, CMIElement, logMessage);\n\n    if (messageLevel >= this.apiLogLevel) {\n      switch (messageLevel) {\n        case global_constants.LOG_LEVEL_ERROR:\n          console.error(logMessage);\n          break;\n        case global_constants.LOG_LEVEL_WARNING:\n          console.warn(logMessage);\n          break;\n        case global_constants.LOG_LEVEL_INFO:\n          console.info(logMessage);\n          break;\n        case global_constants.LOG_LEVEL_DEBUG:\n          if (console.debug) {\n            console.debug(logMessage);\n          } else {\n            console.log(logMessage);\n          }\n          break;\n      }\n    }\n  }\n\n  /**\n   * Formats the SCORM messages for easy reading\n   *\n   * @param {string} functionName\n   * @param {string} CMIElement\n   * @param {string} message\n   * @return {string}\n   */\n  formatMessage(functionName: String, CMIElement: String, message: String) {\n    const baseLength = 20;\n    let messageString = '';\n\n    messageString += functionName;\n\n    let fillChars = baseLength - messageString.length;\n\n    for (let i = 0; i < fillChars; i++) {\n      messageString += ' ';\n    }\n\n    messageString += ': ';\n\n    if (CMIElement) {\n      const CMIElementBaseLength = 70;\n\n      messageString += CMIElement;\n\n      fillChars = CMIElementBaseLength - messageString.length;\n\n      for (let j = 0; j < fillChars; j++) {\n        messageString += ' ';\n      }\n    }\n\n    if (message) {\n      messageString += message;\n    }\n\n    return messageString;\n  }\n\n  /**\n   * Checks to see if {str} contains {tester}\n   *\n   * @param {string} str String to check against\n   * @param {string} tester String to check for\n   * @return {boolean}\n   */\n  stringMatches(str: String, tester: String) {\n    return str && tester && str.match(tester);\n  }\n\n  /**\n   * Check to see if the specific object has the given property\n   * @param {*} refObject\n   * @param {string} attribute\n   * @return {boolean}\n   * @private\n   */\n  _checkObjectHasProperty(refObject, attribute: String) {\n    return Object.hasOwnProperty.call(refObject, attribute) ||\n      Object.getOwnPropertyDescriptor(\n          Object.getPrototypeOf(refObject), attribute) ||\n      (attribute in refObject);\n  }\n\n  /**\n   * Returns the message that corresponds to errorNumber\n   * APIs that inherit BaseAPI should override this function\n   *\n   * @param {(string|number)} _errorNumber\n   * @param {boolean} _detail\n   * @return {string}\n   * @abstract\n   */\n  getLmsErrorMessageDetails(_errorNumber, _detail) {\n    throw new Error(\n        'The getLmsErrorMessageDetails method has not been implemented');\n  }\n\n  /**\n   * Gets the value for the specific element.\n   * APIs that inherit BaseAPI should override this function\n   *\n   * @param {string} _CMIElement\n   * @return {string}\n   * @abstract\n   */\n  getCMIValue(_CMIElement) {\n    throw new Error('The getCMIValue method has not been implemented');\n  }\n\n  /**\n   * Sets the value for the specific element.\n   * APIs that inherit BaseAPI should override this function\n   *\n   * @param {string} _CMIElement\n   * @param {any} _value\n   * @return {string}\n   * @abstract\n   */\n  setCMIValue(_CMIElement, _value) {\n    throw new Error('The setCMIValue method has not been implemented');\n  }\n\n  /**\n   * Shared API method to set a valid for a given element.\n   *\n   * @param {string} methodName\n   * @param {boolean} scorm2004\n   * @param {string} CMIElement\n   * @param {*} value\n   * @return {string}\n   */\n  _commonSetCMIValue(\n      methodName: String, scorm2004: boolean, CMIElement, value) {\n    if (!CMIElement || CMIElement === '') {\n      return global_constants.SCORM_FALSE;\n    }\n\n    const structure = CMIElement.split('.');\n    let refObject = this;\n    let returnValue = global_constants.SCORM_FALSE;\n    let foundFirstIndex = false;\n\n    const invalidErrorMessage = `The data model element passed to ${methodName} (${CMIElement}) is not a valid SCORM data model element.`;\n    const invalidErrorCode = scorm2004 ?\n      this.#error_codes.UNDEFINED_DATA_MODEL :\n      this.#error_codes.GENERAL;\n\n    for (let i = 0; i < structure.length; i++) {\n      const attribute = structure[i];\n\n      if (i === structure.length - 1) {\n        if (scorm2004 && (attribute.substr(0, 8) === '{target=') &&\n          (typeof refObject._isTargetValid == 'function')) {\n          this.throwSCORMError(this.#error_codes.READ_ONLY_ELEMENT);\n        } else if (!this._checkObjectHasProperty(refObject, attribute)) {\n          this.throwSCORMError(invalidErrorCode, invalidErrorMessage);\n        } else {\n          if (this.stringMatches(CMIElement, '\\\\.correct_responses\\\\.\\\\d')) {\n            this.validateCorrectResponse(CMIElement, value);\n          }\n\n          if (!scorm2004 || this.lastErrorCode === 0) {\n            refObject[attribute] = value;\n            returnValue = global_constants.SCORM_TRUE;\n          }\n        }\n      } else {\n        refObject = refObject[attribute];\n        if (!refObject) {\n          this.throwSCORMError(invalidErrorCode, invalidErrorMessage);\n          break;\n        }\n\n        if (refObject instanceof CMIArray) {\n          const index = parseInt(structure[i + 1], 10);\n\n          // SCO is trying to set an item on an array\n          if (!isNaN(index)) {\n            const item = refObject.childArray[index];\n\n            if (item) {\n              refObject = item;\n              foundFirstIndex = true;\n            } else {\n              const newChild = this.getChildElement(CMIElement, value,\n                  foundFirstIndex);\n              foundFirstIndex = true;\n\n              if (!newChild) {\n                this.throwSCORMError(invalidErrorCode, invalidErrorMessage);\n              } else {\n                if (refObject.initialized) newChild.initialize();\n\n                refObject.childArray.push(newChild);\n                refObject = newChild;\n              }\n            }\n\n            // Have to update i value to skip the array position\n            i++;\n          }\n        }\n      }\n    }\n\n    if (returnValue === global_constants.SCORM_FALSE) {\n      this.apiLog(methodName, null,\n          `There was an error setting the value for: ${CMIElement}, value of: ${value}`,\n          global_constants.LOG_LEVEL_WARNING);\n    }\n\n    return returnValue;\n  }\n\n  /**\n   * Abstract method for validating that a response is correct.\n   *\n   * @param {string} _CMIElement\n   * @param {*} _value\n   */\n  validateCorrectResponse(_CMIElement, _value) {\n    // just a stub method\n  }\n\n  /**\n   * Gets or builds a new child element to add to the array.\n   * APIs that inherit BaseAPI should override this method.\n   *\n   * @param {string} _CMIElement - unused\n   * @param {*} _value - unused\n   * @param {boolean} _foundFirstIndex - unused\n   * @return {*}\n   * @abstract\n   */\n  getChildElement(_CMIElement, _value, _foundFirstIndex) {\n    throw new Error('The getChildElement method has not been implemented');\n  }\n\n  /**\n   * Gets a value from the CMI Object\n   *\n   * @param {string} methodName\n   * @param {boolean} scorm2004\n   * @param {string} CMIElement\n   * @return {*}\n   */\n  _commonGetCMIValue(methodName: String, scorm2004: boolean, CMIElement) {\n    if (!CMIElement || CMIElement === '') {\n      return '';\n    }\n\n    const structure = CMIElement.split('.');\n    let refObject = this;\n    let attribute = null;\n\n    const uninitializedErrorMessage = `The data model element passed to ${methodName} (${CMIElement}) has not been initialized.`;\n    const invalidErrorMessage = `The data model element passed to ${methodName} (${CMIElement}) is not a valid SCORM data model element.`;\n    const invalidErrorCode = scorm2004 ?\n      this.#error_codes.UNDEFINED_DATA_MODEL :\n      this.#error_codes.GENERAL;\n\n    for (let i = 0; i < structure.length; i++) {\n      attribute = structure[i];\n\n      if (!scorm2004) {\n        if (i === structure.length - 1) {\n          if (!this._checkObjectHasProperty(refObject, attribute)) {\n            this.throwSCORMError(invalidErrorCode, invalidErrorMessage);\n            return;\n          }\n        }\n      } else {\n        if ((String(attribute).substr(0, 8) === '{target=') &&\n          (typeof refObject._isTargetValid == 'function')) {\n          const target = String(attribute).\n              substr(8, String(attribute).length - 9);\n          return refObject._isTargetValid(target);\n        } else if (!this._checkObjectHasProperty(refObject, attribute)) {\n          this.throwSCORMError(invalidErrorCode, invalidErrorMessage);\n          return;\n        }\n      }\n\n      refObject = refObject[attribute];\n      if (refObject === undefined) {\n        this.throwSCORMError(invalidErrorCode, invalidErrorMessage);\n        break;\n      }\n\n      if (refObject instanceof CMIArray) {\n        const index = parseInt(structure[i + 1], 10);\n\n        // SCO is trying to set an item on an array\n        if (!isNaN(index)) {\n          const item = refObject.childArray[index];\n\n          if (item) {\n            refObject = item;\n          } else {\n            this.throwSCORMError(this.#error_codes.VALUE_NOT_INITIALIZED,\n                uninitializedErrorMessage);\n            break;\n          }\n\n          // Have to update i value to skip the array position\n          i++;\n        }\n      }\n    }\n\n    if (refObject === null || refObject === undefined) {\n      if (!scorm2004) {\n        if (attribute === '_children') {\n          this.throwSCORMError(scorm12_error_codes.CHILDREN_ERROR);\n        } else if (attribute === '_count') {\n          this.throwSCORMError(scorm12_error_codes.COUNT_ERROR);\n        }\n      }\n    } else {\n      return refObject;\n    }\n  }\n\n  /**\n   * Returns true if the API's current state is STATE_INITIALIZED\n   *\n   * @return {boolean}\n   */\n  isInitialized() {\n    return this.currentState === global_constants.STATE_INITIALIZED;\n  }\n\n  /**\n   * Returns true if the API's current state is STATE_NOT_INITIALIZED\n   *\n   * @return {boolean}\n   */\n  isNotInitialized() {\n    return this.currentState === global_constants.STATE_NOT_INITIALIZED;\n  }\n\n  /**\n   * Returns true if the API's current state is STATE_TERMINATED\n   *\n   * @return {boolean}\n   */\n  isTerminated() {\n    return this.currentState === global_constants.STATE_TERMINATED;\n  }\n\n  /**\n   * Provides a mechanism for attaching to a specific SCORM event\n   *\n   * @param {string} listenerName\n   * @param {function} callback\n   */\n  on(listenerName: String, callback: function) {\n    if (!callback) return;\n\n    const listenerFunctions = listenerName.split(' ');\n    for (let i = 0; i < listenerFunctions.length; i++) {\n      const listenerSplit = listenerFunctions[i].split('.');\n      if (listenerSplit.length === 0) return;\n\n      const functionName = listenerSplit[0];\n\n      let CMIElement = null;\n      if (listenerSplit.length > 1) {\n        CMIElement = listenerName.replace(functionName + '.', '');\n      }\n\n      this.listenerArray.push({\n        functionName: functionName,\n        CMIElement: CMIElement,\n        callback: callback,\n      });\n    }\n  }\n\n  /**\n   * Processes any 'on' listeners that have been created\n   *\n   * @param {string} functionName\n   * @param {string} CMIElement\n   * @param {*} value\n   */\n  processListeners(functionName: String, CMIElement: String, value: any) {\n    this.apiLog(functionName, CMIElement, value);\n    for (let i = 0; i < this.listenerArray.length; i++) {\n      const listener = this.listenerArray[i];\n      const functionsMatch = listener.functionName === functionName;\n      const listenerHasCMIElement = !!listener.CMIElement;\n      let CMIElementsMatch = false;\n      if (CMIElement && listener.CMIElement && listener.CMIElement.substring(listener.CMIElement.length - 1) === '*') {\n        CMIElementsMatch = CMIElement.indexOf(listener.CMIElement.substring(0, listener.CMIElement.length - 1)) === 0;\n      } else {\n        CMIElementsMatch = listener.CMIElement === CMIElement;\n      }\n\n      if (functionsMatch && (!listenerHasCMIElement || CMIElementsMatch)) {\n        listener.callback(CMIElement, value);\n      }\n    }\n  }\n\n  /**\n   * Throws a SCORM error\n   *\n   * @param {number} errorNumber\n   * @param {string} message\n   */\n  throwSCORMError(errorNumber: number, message: String) {\n    if (!message) {\n      message = this.getLmsErrorMessageDetails(errorNumber);\n    }\n\n    this.apiLog('throwSCORMError', null, errorNumber + ': ' + message,\n        global_constants.LOG_LEVEL_ERROR);\n\n    this.lastErrorCode = String(errorNumber);\n  }\n\n  /**\n   * Clears the last SCORM error code on success.\n   *\n   * @param {string} success\n   */\n  clearSCORMError(success: String) {\n    if (success !== undefined && success !== global_constants.SCORM_FALSE) {\n      this.lastErrorCode = 0;\n    }\n  }\n\n  /**\n   * Attempts to store the data to the LMS, logs data if no LMS configured\n   * APIs that inherit BaseAPI should override this function\n   *\n   * @param {boolean} _calculateTotalTime\n   * @return {string}\n   * @abstract\n   */\n  storeData(_calculateTotalTime) {\n    throw new Error(\n        'The storeData method has not been implemented');\n  }\n\n  /**\n   * Load the CMI from a flattened JSON object\n   * @param {object} json\n   * @param {string} CMIElement\n   */\n  loadFromFlattenedJSON(json, CMIElement) {\n    this.loadFromJSON(unflatten(json), CMIElement);\n  }\n\n  /**\n   * Loads CMI data from a JSON object.\n   *\n   * @param {object} json\n   * @param {string} CMIElement\n   */\n  loadFromJSON(json, CMIElement) {\n    if (!this.isNotInitialized()) {\n      console.error(\n          'loadFromJSON can only be called before the call to lmsInitialize.');\n      return;\n    }\n\n    CMIElement = CMIElement !== undefined ? CMIElement : 'cmi';\n\n    this.startingData = json;\n\n    // could this be refactored down to flatten(json) then setCMIValue on each?\n    for (const key in json) {\n      if ({}.hasOwnProperty.call(json, key) && json[key]) {\n        const currentCMIElement = (CMIElement ? CMIElement + '.' : '') + key;\n        const value = json[key];\n\n        if (value['childArray']) {\n          for (let i = 0; i < value['childArray'].length; i++) {\n            this.loadFromJSON(value['childArray'][i],\n                currentCMIElement + '.' + i);\n          }\n        } else if (value.constructor === Object) {\n          this.loadFromJSON(value, currentCMIElement);\n        } else {\n          this.setCMIValue(currentCMIElement, value);\n        }\n      }\n    }\n  }\n\n  /**\n   * Render the CMI object to JSON for sending to an LMS.\n   *\n   * @return {string}\n   */\n  renderCMIToJSONString() {\n    const cmi = this.cmi;\n    // Do we want/need to return fields that have no set value?\n    // return JSON.stringify({ cmi }, (k, v) => v === undefined ? null : v, 2);\n    return JSON.stringify({cmi});\n  }\n\n  /**\n   * Returns a JS object representing the current cmi\n   * @return {object}\n   */\n  renderCMIToJSONObject() {\n    // Do we want/need to return fields that have no set value?\n    // return JSON.stringify({ cmi }, (k, v) => v === undefined ? null : v, 2);\n    return JSON.parse(this.renderCMIToJSONString());\n  }\n\n  /**\n   * Render the cmi object to the proper format for LMS commit\n   * APIs that inherit BaseAPI should override this function\n   *\n   * @param {boolean} _terminateCommit\n   * @return {*}\n   * @abstract\n   */\n  renderCommitCMI(_terminateCommit) {\n    throw new Error(\n        'The storeData method has not been implemented');\n  }\n\n  /**\n   * Send the request to the LMS\n   * @param {string} url\n   * @param {object|Array} params\n   * @return {object}\n   */\n  processHttpRequest(url: String, params) {\n    const genericError = {\n      'result': global_constants.SCORM_FALSE,\n      'errorCode': this.#error_codes.GENERAL,\n    };\n\n    const httpReq = new XMLHttpRequest();\n    httpReq.open('POST', url, false);\n    try {\n      if (params instanceof Array) {\n        httpReq.setRequestHeader('Content-Type',\n            'application/x-www-form-urlencoded');\n        httpReq.send(params.join('&'));\n      } else {\n        httpReq.setRequestHeader('Content-Type',\n            this.settings.commitRequestDataType);\n        httpReq.responseType = 'json';\n        httpReq.send(JSON.stringify(params));\n      }\n    } catch (e) {\n      return genericError;\n    }\n\n    let result;\n    try {\n      if (typeof this.settings.responseHandler === 'function') {\n        result = this.settings.responseHandler(httpReq);\n      } else {\n        result = JSON.parse(httpReq.responseText);\n      }\n    } catch (e) {\n      return genericError;\n    }\n\n    if (typeof result === 'undefined') {\n      return genericError;\n    }\n\n    return result;\n  }\n\n  /**\n   * Throws a SCORM error\n   *\n   * @param {number} when - the number of milliseconds to wait before committing\n   */\n  scheduleCommit(when: number) {\n    this.#timeout = new ScheduledCommit(this, when);\n    this.apiLog('scheduleCommit', '', 'scheduled',\n        global_constants.LOG_LEVEL_DEBUG);\n  }\n\n  /**\n   * Clears and cancels any currently scheduled commits\n   */\n  clearScheduledCommit() {\n    if (this.#timeout) {\n      this.#timeout.cancel();\n      this.#timeout = null;\n      this.apiLog('clearScheduledCommit', '', 'cleared',\n          global_constants.LOG_LEVEL_DEBUG);\n    }\n  }\n}\n\n/**\n * Private class that wraps a timeout call to the commit() function\n */\nclass ScheduledCommit {\n  #API;\n  #cancelled = false;\n  #timeout;\n\n  /**\n   * Constructor for ScheduledCommit\n   * @param {BaseAPI} API\n   * @param {number} when\n   */\n  constructor(API: any, when: number) {\n    this.#API = API;\n    this.#timeout = setTimeout(this.wrapper.bind(this), when);\n  }\n\n  /**\n   * Cancel any currently scheduled commit\n   */\n  cancel() {\n    this.#cancelled = true;\n    if (this.#timeout) {\n      clearTimeout(this.#timeout);\n    }\n  }\n\n  /**\n   * Wrap the API commit call to check if the call has already been cancelled\n   */\n  wrapper() {\n    if (!this.#cancelled) {\n      this.#API.commit();\n    }\n  }\n}\n","// @flow\nimport BaseAPI from './BaseAPI';\nimport {\n  CMI,\n  CMIInteractionsCorrectResponsesObject,\n  CMIInteractionsObject,\n  CMIInteractionsObjectivesObject,\n  CMIObjectivesObject, NAV,\n} from './cmi/scorm12_cmi';\nimport * as Utilities from './utilities';\nimport APIConstants from './constants/api_constants';\nimport ErrorCodes from './constants/error_codes';\n\nconst scorm12_constants = APIConstants.scorm12;\nconst global_constants = APIConstants.global;\nconst scorm12_error_codes = ErrorCodes.scorm12;\n\n/**\n * API class for SCORM 1.2\n */\nexport default class Scorm12API extends BaseAPI {\n  /**\n   * Constructor for SCORM 1.2 API\n   * @param {object} settings\n   */\n  constructor(settings: {}) {\n    const finalSettings = {\n      ...{\n        mastery_override: false,\n      }, ...settings,\n    };\n\n    super(scorm12_error_codes, finalSettings);\n\n    this.cmi = new CMI();\n    this.nav = new NAV();\n\n    // Rename functions to match 1.2 Spec and expose to modules\n    this.LMSInitialize = this.lmsInitialize;\n    this.LMSFinish = this.lmsFinish;\n    this.LMSGetValue = this.lmsGetValue;\n    this.LMSSetValue = this.lmsSetValue;\n    this.LMSCommit = this.lmsCommit;\n    this.LMSGetLastError = this.lmsGetLastError;\n    this.LMSGetErrorString = this.lmsGetErrorString;\n    this.LMSGetDiagnostic = this.lmsGetDiagnostic;\n  }\n\n  /**\n   * lmsInitialize function from SCORM 1.2 Spec\n   *\n   * @return {string} bool\n   */\n  lmsInitialize() {\n    this.cmi.initialize();\n    return this.initialize('LMSInitialize', 'LMS was already initialized!',\n        'LMS is already finished!');\n  }\n\n  /**\n   * LMSFinish function from SCORM 1.2 Spec\n   *\n   * @return {string} bool\n   */\n  lmsFinish() {\n    const result = this.terminate('LMSFinish', false);\n\n    if (result === global_constants.SCORM_TRUE) {\n      if (this.nav.event !== '') {\n        if (this.nav.event === 'continue') {\n          this.processListeners('SequenceNext');\n        } else {\n          this.processListeners('SequencePrevious');\n        }\n      } else if (this.settings.autoProgress) {\n        this.processListeners('SequenceNext');\n      }\n    }\n\n    return result;\n  }\n\n  /**\n   * LMSGetValue function from SCORM 1.2 Spec\n   *\n   * @param {string} CMIElement\n   * @return {string}\n   */\n  lmsGetValue(CMIElement) {\n    return this.getValue('LMSGetValue', false, CMIElement);\n  }\n\n  /**\n   * LMSSetValue function from SCORM 1.2 Spec\n   *\n   * @param {string} CMIElement\n   * @param {*} value\n   * @return {string}\n   */\n  lmsSetValue(CMIElement, value) {\n    return this.setValue('LMSSetValue', false, CMIElement, value);\n  }\n\n  /**\n   * LMSCommit function from SCORM 1.2 Spec\n   *\n   * @return {string} bool\n   */\n  lmsCommit() {\n    return this.commit('LMSCommit', false);\n  }\n\n  /**\n   * LMSGetLastError function from SCORM 1.2 Spec\n   *\n   * @return {string}\n   */\n  lmsGetLastError() {\n    return this.getLastError('LMSGetLastError');\n  }\n\n  /**\n   * LMSGetErrorString function from SCORM 1.2 Spec\n   *\n   * @param {string} CMIErrorCode\n   * @return {string}\n   */\n  lmsGetErrorString(CMIErrorCode) {\n    return this.getErrorString('LMSGetErrorString', CMIErrorCode);\n  }\n\n  /**\n   * LMSGetDiagnostic function from SCORM 1.2 Spec\n   *\n   * @param {string} CMIErrorCode\n   * @return {string}\n   */\n  lmsGetDiagnostic(CMIErrorCode) {\n    return this.getDiagnostic('LMSGetDiagnostic', CMIErrorCode);\n  }\n\n  /**\n   * Sets a value on the CMI Object\n   *\n   * @param {string} CMIElement\n   * @param {*} value\n   * @return {string}\n   */\n  setCMIValue(CMIElement, value) {\n    return this._commonSetCMIValue('LMSSetValue', false, CMIElement, value);\n  }\n\n  /**\n   * Gets a value from the CMI Object\n   *\n   * @param {string} CMIElement\n   * @return {*}\n   */\n  getCMIValue(CMIElement) {\n    return this._commonGetCMIValue('getCMIValue', false, CMIElement);\n  }\n\n  /**\n   * Gets or builds a new child element to add to the array.\n   *\n   * @param {string} CMIElement\n   * @param {*} value\n   * @param {boolean} foundFirstIndex\n   * @return {object}\n   */\n  getChildElement(CMIElement, value, foundFirstIndex) {\n    let newChild;\n\n    if (this.stringMatches(CMIElement, 'cmi\\\\.objectives\\\\.\\\\d')) {\n      newChild = new CMIObjectivesObject();\n    } else if (foundFirstIndex && this.stringMatches(CMIElement,\n        'cmi\\\\.interactions\\\\.\\\\d\\\\.correct_responses\\\\.\\\\d')) {\n      newChild = new CMIInteractionsCorrectResponsesObject();\n    } else if (foundFirstIndex && this.stringMatches(CMIElement,\n        'cmi\\\\.interactions\\\\.\\\\d\\\\.objectives\\\\.\\\\d')) {\n      newChild = new CMIInteractionsObjectivesObject();\n    } else if (!foundFirstIndex &&\n        this.stringMatches(CMIElement, 'cmi\\\\.interactions\\\\.\\\\d')) {\n      newChild = new CMIInteractionsObject();\n    }\n\n    return newChild;\n  }\n\n  /**\n   * Validates Correct Response values\n   *\n   * @param {string} CMIElement\n   * @param {*} value\n   * @return {boolean}\n   */\n  validateCorrectResponse(CMIElement, value) {\n    return true;\n  }\n\n  /**\n   * Returns the message that corresponds to errorNumber.\n   *\n   * @param {*} errorNumber\n   * @param {boolean }detail\n   * @return {string}\n   */\n  getLmsErrorMessageDetails(errorNumber, detail) {\n    let basicMessage = 'No Error';\n    let detailMessage = 'No Error';\n\n    // Set error number to string since inconsistent from modules if string or number\n    errorNumber = String(errorNumber);\n    if (scorm12_constants.error_descriptions[errorNumber]) {\n      basicMessage = scorm12_constants.error_descriptions[errorNumber].basicMessage;\n      detailMessage = scorm12_constants.error_descriptions[errorNumber].detailMessage;\n    }\n\n    return detail ? detailMessage : basicMessage;\n  }\n\n  /**\n   * Replace the whole API with another\n   *\n   * @param {Scorm12API} newAPI\n   */\n  replaceWithAnotherScormAPI(newAPI) {\n    // Data Model\n    this.cmi = newAPI.cmi;\n  }\n\n  /**\n   * Render the cmi object to the proper format for LMS commit\n   *\n   * @param {boolean} terminateCommit\n   * @return {object|Array}\n   */\n  renderCommitCMI(terminateCommit: boolean) {\n    const cmiExport = this.renderCMIToJSONObject();\n\n    if (terminateCommit) {\n      cmiExport.cmi.core.total_time = this.cmi.getCurrentTotalTime();\n    }\n\n    const result = [];\n    const flattened = Utilities.flatten(cmiExport);\n    switch (this.settings.dataCommitFormat) {\n      case 'flattened':\n        return Utilities.flatten(cmiExport);\n      case 'params':\n        for (const item in flattened) {\n          if ({}.hasOwnProperty.call(flattened, item)) {\n            result.push(`${item}=${flattened[item]}`);\n          }\n        }\n        return result;\n      case 'json':\n      default:\n        return cmiExport;\n    }\n  }\n\n  /**\n   * Attempts to store the data to the LMS\n   *\n   * @param {boolean} terminateCommit\n   * @return {string}\n   */\n  storeData(terminateCommit: boolean) {\n    if (terminateCommit) {\n      const originalStatus = this.cmi.core.lesson_status;\n      if (originalStatus === 'not attempted') {\n        this.cmi.core.lesson_status = 'completed';\n      }\n\n      if (this.cmi.core.lesson_mode === 'normal') {\n        if (this.cmi.core.credit === 'credit') {\n          if (this.settings.mastery_override &&\n              this.cmi.student_data.mastery_score !== '' &&\n              this.cmi.core.score.raw !== '') {\n            if (parseFloat(this.cmi.core.score.raw) >=\n                parseFloat(this.cmi.student_data.mastery_score)) {\n              this.cmi.core.lesson_status = 'passed';\n            } else {\n              this.cmi.core.lesson_status = 'failed';\n            }\n          }\n        }\n      } else if (this.cmi.core.lesson_mode === 'browse') {\n        if ((this.startingData?.cmi?.core?.lesson_status || '') === '' &&\n            originalStatus === 'not attempted') {\n          this.cmi.core.lesson_status = 'browsed';\n        }\n      }\n    }\n\n    const commitObject = this.renderCommitCMI(terminateCommit);\n\n    if (this.settings.lmsCommitUrl) {\n      if (this.apiLogLevel === global_constants.LOG_LEVEL_DEBUG) {\n        console.debug('Commit (terminated: ' +\n            (terminateCommit ? 'yes' : 'no') + '): ');\n        console.debug(commitObject);\n      }\n      return this.processHttpRequest(this.settings.lmsCommitUrl, commitObject);\n    } else {\n      console.log('Commit (terminated: ' +\n          (terminateCommit ? 'yes' : 'no') + '): ');\n      console.log(commitObject);\n      return global_constants.SCORM_TRUE;\n    }\n  }\n}\n","// @flow\nimport BaseAPI from './BaseAPI';\nimport {\n  ADL,\n  CMI,\n  CMICommentsObject,\n  CMIInteractionsCorrectResponsesObject,\n  CMIInteractionsObject,\n  CMIInteractionsObjectivesObject,\n  CMIObjectivesObject,\n} from './cmi/scorm2004_cmi';\nimport * as Utilities from './utilities';\nimport APIConstants from './constants/api_constants';\nimport ErrorCodes from './constants/error_codes';\nimport Responses from './constants/response_constants';\nimport ValidLanguages from './constants/language_constants';\nimport Regex from './constants/regex';\n\nconst scorm2004_constants = APIConstants.scorm2004;\nconst global_constants = APIConstants.global;\nconst scorm2004_error_codes = ErrorCodes.scorm2004;\nconst correct_responses = Responses.correct;\nconst scorm2004_regex = Regex.scorm2004;\n\n/**\n * API class for SCORM 2004\n */\nexport default class Scorm2004API extends BaseAPI {\n  #version: '1.0';\n\n  /**\n   * Constructor for SCORM 2004 API\n   * @param {object} settings\n   */\n  constructor(settings: {}) {\n    const finalSettings = {\n      ...{\n        mastery_override: false,\n      }, ...settings,\n    };\n\n    super(scorm2004_error_codes, finalSettings);\n\n    this.cmi = new CMI();\n    this.adl = new ADL();\n\n    // Rename functions to match 2004 Spec and expose to modules\n    this.Initialize = this.lmsInitialize;\n    this.Terminate = this.lmsTerminate;\n    this.GetValue = this.lmsGetValue;\n    this.SetValue = this.lmsSetValue;\n    this.Commit = this.lmsCommit;\n    this.GetLastError = this.lmsGetLastError;\n    this.GetErrorString = this.lmsGetErrorString;\n    this.GetDiagnostic = this.lmsGetDiagnostic;\n  }\n\n  /**\n   * Getter for #version\n   * @return {string}\n   */\n  get version() {\n    return this.#version;\n  }\n\n  /**\n   * @return {string} bool\n   */\n  lmsInitialize() {\n    this.cmi.initialize();\n    return this.initialize('Initialize');\n  }\n\n  /**\n   * @return {string} bool\n   */\n  lmsTerminate() {\n    const result = this.terminate('Terminate', true);\n\n    if (result === global_constants.SCORM_TRUE) {\n      if (this.adl.nav.request !== '_none_') {\n        switch (this.adl.nav.request) {\n          case 'continue':\n            this.processListeners('SequenceNext');\n            break;\n          case 'previous':\n            this.processListeners('SequencePrevious');\n            break;\n          case 'choice':\n            this.processListeners('SequenceChoice');\n            break;\n          case 'exit':\n            this.processListeners('SequenceExit');\n            break;\n          case 'exitAll':\n            this.processListeners('SequenceExitAll');\n            break;\n          case 'abandon':\n            this.processListeners('SequenceAbandon');\n            break;\n          case 'abandonAll':\n            this.processListeners('SequenceAbandonAll');\n            break;\n        }\n      } else if (this.settings.autoProgress) {\n        this.processListeners('SequenceNext');\n      }\n    }\n\n    return result;\n  }\n\n  /**\n   * @param {string} CMIElement\n   * @return {string}\n   */\n  lmsGetValue(CMIElement) {\n    return this.getValue('GetValue', true, CMIElement);\n  }\n\n  /**\n   * @param {string} CMIElement\n   * @param {any} value\n   * @return {string}\n   */\n  lmsSetValue(CMIElement, value) {\n    return this.setValue('SetValue', true, CMIElement, value);\n  }\n\n  /**\n   * Orders LMS to store all content parameters\n   *\n   * @return {string} bool\n   */\n  lmsCommit() {\n    return this.commit('Commit');\n  }\n\n  /**\n   * Returns last error code\n   *\n   * @return {string}\n   */\n  lmsGetLastError() {\n    return this.getLastError('GetLastError');\n  }\n\n  /**\n   * Returns the errorNumber error description\n   *\n   * @param {(string|number)} CMIErrorCode\n   * @return {string}\n   */\n  lmsGetErrorString(CMIErrorCode) {\n    return this.getErrorString('GetErrorString', CMIErrorCode);\n  }\n\n  /**\n   * Returns a comprehensive description of the errorNumber error.\n   *\n   * @param {(string|number)} CMIErrorCode\n   * @return {string}\n   */\n  lmsGetDiagnostic(CMIErrorCode) {\n    return this.getDiagnostic('GetDiagnostic', CMIErrorCode);\n  }\n\n  /**\n   * Sets a value on the CMI Object\n   *\n   * @param {string} CMIElement\n   * @param {any} value\n   * @return {string}\n   */\n  setCMIValue(CMIElement, value) {\n    return this._commonSetCMIValue('SetValue', true, CMIElement, value);\n  }\n\n  /**\n   * Gets or builds a new child element to add to the array.\n   *\n   * @param {string} CMIElement\n   * @param {any} value\n   * @param {boolean} foundFirstIndex\n   * @return {any}\n   */\n  getChildElement(CMIElement, value, foundFirstIndex) {\n    let newChild;\n\n    if (this.stringMatches(CMIElement, 'cmi\\\\.objectives\\\\.\\\\d')) {\n      newChild = new CMIObjectivesObject();\n    } else if (foundFirstIndex && this.stringMatches(CMIElement,\n        'cmi\\\\.interactions\\\\.\\\\d\\\\.correct_responses\\\\.\\\\d')) {\n      const parts = CMIElement.split('.');\n      const index = Number(parts[2]);\n      const interaction = this.cmi.interactions.childArray[index];\n      if (!interaction.type) {\n        this.throwSCORMError(scorm2004_error_codes.DEPENDENCY_NOT_ESTABLISHED);\n      } else {\n        const interaction_type = interaction.type;\n        const interaction_count = interaction.correct_responses._count;\n        if (interaction_type === 'choice') {\n          for (let i = 0; i < interaction_count && this.lastErrorCode ===\n          0; i++) {\n            const response = interaction.correct_responses.childArray[i];\n            if (response.pattern === value) {\n              this.throwSCORMError(scorm2004_error_codes.GENERAL_SET_FAILURE);\n            }\n          }\n        }\n\n        const response_type = correct_responses[interaction_type];\n        if (response_type) {\n          let nodes = [];\n          if (response_type?.delimiter) {\n            nodes = String(value).split(response_type.delimiter);\n          } else {\n            nodes[0] = value;\n          }\n\n          if (nodes.length > 0 && nodes.length <= response_type.max) {\n            this.checkCorrectResponseValue(interaction_type, nodes, value);\n          } else if (nodes.length > response_type.max) {\n            this.throwSCORMError(scorm2004_error_codes.GENERAL_SET_FAILURE,\n                'Data Model Element Pattern Too Long');\n          }\n        } else {\n          this.throwSCORMError(scorm2004_error_codes.GENERAL_SET_FAILURE,\n              'Incorrect Response Type: ' + interaction_type);\n        }\n      }\n      if (this.lastErrorCode === 0) {\n        newChild = new CMIInteractionsCorrectResponsesObject();\n      }\n    } else if (foundFirstIndex && this.stringMatches(CMIElement,\n        'cmi\\\\.interactions\\\\.\\\\d\\\\.objectives\\\\.\\\\d')) {\n      newChild = new CMIInteractionsObjectivesObject();\n    } else if (!foundFirstIndex &&\n        this.stringMatches(CMIElement, 'cmi\\\\.interactions\\\\.\\\\d')) {\n      newChild = new CMIInteractionsObject();\n    } else if (this.stringMatches(CMIElement,\n        'cmi\\\\.comments_from_learner\\\\.\\\\d')) {\n      newChild = new CMICommentsObject();\n    } else if (this.stringMatches(CMIElement,\n        'cmi\\\\.comments_from_lms\\\\.\\\\d')) {\n      newChild = new CMICommentsObject(true);\n    }\n\n    return newChild;\n  }\n\n  /**\n   * Validate correct response.\n   * @param {string} CMIElement\n   * @param {*} value\n   */\n  validateCorrectResponse(CMIElement, value) {\n    const parts = CMIElement.split('.');\n    const index = Number(parts[2]);\n    const pattern_index = Number(parts[4]);\n    const interaction = this.cmi.interactions.childArray[index];\n\n    const interaction_type = interaction.type;\n    const interaction_count = interaction.correct_responses._count;\n    if (interaction_type === 'choice') {\n      for (let i = 0; i < interaction_count && this.lastErrorCode === 0; i++) {\n        const response = interaction.correct_responses.childArray[i];\n        if (response.pattern === value) {\n          this.throwSCORMError(scorm2004_error_codes.GENERAL_SET_FAILURE);\n        }\n      }\n    }\n\n    const response_type = correct_responses[interaction_type];\n    if (typeof response_type.limit === 'undefined' || interaction_count <=\n        response_type.limit) {\n      let nodes = [];\n      if (response_type?.delimiter) {\n        nodes = String(value).split(response_type.delimiter);\n      } else {\n        nodes[0] = value;\n      }\n\n      if (nodes.length > 0 && nodes.length <= response_type.max) {\n        this.checkCorrectResponseValue(interaction_type, nodes, value);\n      } else if (nodes.length > response_type.max) {\n        this.throwSCORMError(scorm2004_error_codes.GENERAL_SET_FAILURE,\n            'Data Model Element Pattern Too Long');\n      }\n\n      if (this.lastErrorCode === 0 &&\n          (!response_type.duplicate ||\n              !this.checkDuplicatedPattern(interaction.correct_responses,\n                  pattern_index, value)) ||\n          (this.lastErrorCode === 0 && value === '')) {\n        // do nothing, we want the inverse\n      } else {\n        if (this.lastErrorCode === 0) {\n          this.throwSCORMError(scorm2004_error_codes.GENERAL_SET_FAILURE,\n              'Data Model Element Pattern Already Exists');\n        }\n      }\n    } else {\n      this.throwSCORMError(scorm2004_error_codes.GENERAL_SET_FAILURE,\n          'Data Model Element Collection Limit Reached');\n    }\n  }\n\n  /**\n   * Gets a value from the CMI Object\n   *\n   * @param {string} CMIElement\n   * @return {*}\n   */\n  getCMIValue(CMIElement) {\n    return this._commonGetCMIValue('GetValue', true, CMIElement);\n  }\n\n  /**\n   * Returns the message that corresponds to errorNumber.\n   *\n   * @param {(string|number)} errorNumber\n   * @param {boolean} detail\n   * @return {string}\n   */\n  getLmsErrorMessageDetails(errorNumber, detail) {\n    let basicMessage = '';\n    let detailMessage = '';\n\n    // Set error number to string since inconsistent from modules if string or number\n    errorNumber = String(errorNumber);\n    if (scorm2004_constants.error_descriptions[errorNumber]) {\n      basicMessage = scorm2004_constants.error_descriptions[errorNumber].basicMessage;\n      detailMessage = scorm2004_constants.error_descriptions[errorNumber].detailMessage;\n    }\n\n    return detail ? detailMessage : basicMessage;\n  }\n\n  /**\n   * Check to see if a correct_response value has been duplicated\n   * @param {CMIArray} correct_response\n   * @param {number} current_index\n   * @param {*} value\n   * @return {boolean}\n   */\n  checkDuplicatedPattern = (correct_response, current_index, value) => {\n    let found = false;\n    const count = correct_response._count;\n    for (let i = 0; i < count && !found; i++) {\n      if (i !== current_index && correct_response.childArray[i] === value) {\n        found = true;\n      }\n    }\n    return found;\n  };\n\n  /**\n   * Checks for a valid correct_response value\n   * @param {string} interaction_type\n   * @param {Array} nodes\n   * @param {*} value\n   */\n  checkCorrectResponseValue(interaction_type, nodes, value) {\n    const response = correct_responses[interaction_type];\n    const formatRegex = new RegExp(response.format);\n    for (let i = 0; i < nodes.length && this.lastErrorCode === 0; i++) {\n      if (interaction_type.match(\n          '^(fill-in|long-fill-in|matching|performance|sequencing)$')) {\n        nodes[i] = this.removeCorrectResponsePrefixes(nodes[i]);\n      }\n\n      if (response?.delimiter2) {\n        const values = nodes[i].split(response.delimiter2);\n        if (values.length === 2) {\n          const matches = values[0].match(formatRegex);\n          if (!matches) {\n            this.throwSCORMError(scorm2004_error_codes.TYPE_MISMATCH);\n          } else {\n            if (!values[1].match(new RegExp(response.format2))) {\n              this.throwSCORMError(scorm2004_error_codes.TYPE_MISMATCH);\n            }\n          }\n        } else {\n          this.throwSCORMError(scorm2004_error_codes.TYPE_MISMATCH);\n        }\n      } else {\n        const matches = nodes[i].match(formatRegex);\n        if ((!matches && value !== '') ||\n            (!matches && interaction_type === 'true-false')) {\n          this.throwSCORMError(scorm2004_error_codes.TYPE_MISMATCH);\n        } else {\n          if (interaction_type === 'numeric' && nodes.length > 1) {\n            if (Number(nodes[0]) > Number(nodes[1])) {\n              this.throwSCORMError(scorm2004_error_codes.TYPE_MISMATCH);\n            }\n          } else {\n            if (nodes[i] !== '' && response.unique) {\n              for (let j = 0; j < i && this.lastErrorCode === 0; j++) {\n                if (nodes[i] === nodes[j]) {\n                  this.throwSCORMError(scorm2004_error_codes.TYPE_MISMATCH);\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * Remove prefixes from correct_response\n   * @param {string} node\n   * @return {*}\n   */\n  removeCorrectResponsePrefixes(node) {\n    let seenOrder = false;\n    let seenCase = false;\n    let seenLang = false;\n\n    const prefixRegex = new RegExp(\n        '^({(lang|case_matters|order_matters)=([^}]+)})');\n    let matches = node.match(prefixRegex);\n    let langMatches = null;\n    while (matches) {\n      switch (matches[2]) {\n        case 'lang':\n          langMatches = node.match(scorm2004_regex.CMILangcr);\n          if (langMatches) {\n            const lang = langMatches[3];\n            if (lang !== undefined && lang.length > 0) {\n              if (ValidLanguages[lang.toLowerCase()] === undefined) {\n                this.throwSCORMError(scorm2004_error_codes.TYPE_MISMATCH);\n              }\n            }\n          }\n          seenLang = true;\n          break;\n        case 'case_matters':\n          if (!seenLang && !seenOrder && !seenCase) {\n            if (matches[3] !== 'true' && matches[3] !== 'false') {\n              this.throwSCORMError(scorm2004_error_codes.TYPE_MISMATCH);\n            }\n          }\n\n          seenCase = true;\n          break;\n        case 'order_matters':\n          if (!seenCase && !seenLang && !seenOrder) {\n            if (matches[3] !== 'true' && matches[3] !== 'false') {\n              this.throwSCORMError(scorm2004_error_codes.TYPE_MISMATCH);\n            }\n          }\n\n          seenOrder = true;\n          break;\n        default:\n          break;\n      }\n      node = node.substr(matches[1].length);\n      matches = node.match(prefixRegex);\n    }\n\n    return node;\n  }\n\n  /**\n   * Replace the whole API with another\n   * @param {Scorm2004API} newAPI\n   */\n  replaceWithAnotherScormAPI(newAPI) {\n    // Data Model\n    this.cmi = newAPI.cmi;\n    this.adl = newAPI.adl;\n  }\n\n  /**\n   * Render the cmi object to the proper format for LMS commit\n   *\n   * @param {boolean} terminateCommit\n   * @return {object|Array}\n   */\n  renderCommitCMI(terminateCommit: boolean) {\n    const cmiExport = this.renderCMIToJSONObject();\n\n    if (terminateCommit) {\n      cmiExport.cmi.total_time = this.cmi.getCurrentTotalTime();\n    }\n\n    const result = [];\n    const flattened = Utilities.flatten(cmiExport);\n    switch (this.settings.dataCommitFormat) {\n      case 'flattened':\n        return Utilities.flatten(cmiExport);\n      case 'params':\n        for (const item in flattened) {\n          if ({}.hasOwnProperty.call(flattened, item)) {\n            result.push(`${item}=${flattened[item]}`);\n          }\n        }\n        return result;\n      case 'json':\n      default:\n        return cmiExport;\n    }\n  }\n\n  /**\n   * Attempts to store the data to the LMS\n   *\n   * @param {boolean} terminateCommit\n   * @return {string}\n   */\n  storeData(terminateCommit: boolean) {\n    if (terminateCommit) {\n      if (this.cmi.mode === 'normal') {\n        if (this.cmi.credit === 'credit') {\n          if (this.cmi.completion_threshold && this.cmi.progress_measure) {\n            if (this.cmi.progress_measure >= this.cmi.completion_threshold) {\n              console.debug('Setting Completion Status: Completed');\n              this.cmi.completion_status = 'completed';\n            } else {\n              console.debug('Setting Completion Status: Incomplete');\n              this.cmi.completion_status = 'incomplete';\n            }\n          }\n          if (this.cmi.scaled_passing_score && this.cmi.score.scaled) {\n            if (this.cmi.score.scaled >= this.cmi.scaled_passing_score) {\n              console.debug('Setting Success Status: Passed');\n              this.cmi.success_status = 'passed';\n            } else {\n              console.debug('Setting Success Status: Failed');\n              this.cmi.success_status = 'failed';\n            }\n          }\n        }\n      }\n    }\n\n    let navRequest = false;\n    if (this.adl.nav.request !== (this.startingData?.adl?.nav?.request) &&\n        this.adl.nav.request !== '_none_') {\n      this.adl.nav.request = encodeURIComponent(this.adl.nav.request);\n      navRequest = true;\n    }\n\n    const commitObject = this.renderCommitCMI(terminateCommit);\n\n    if (this.settings.lmsCommitUrl) {\n      if (this.apiLogLevel === global_constants.LOG_LEVEL_DEBUG) {\n        console.debug('Commit (terminated: ' +\n            (terminateCommit ? 'yes' : 'no') + '): ');\n        console.debug(commitObject);\n      }\n      const result = this.processHttpRequest(this.settings.lmsCommitUrl,\n          commitObject);\n\n      // check if this is a sequencing call, and then call the necessary JS\n      {\n        if (navRequest && result.navRequest !== undefined &&\n          result.navRequest !== '') {\n          Function(`\"use strict\";(() => { ${result.navRequest} })()`)();\n        }\n      }\n      return result;\n    } else {\n      console.log('Commit (terminated: ' +\n          (terminateCommit ? 'yes' : 'no') + '): ');\n      console.log(commitObject);\n      return global_constants.SCORM_TRUE;\n    }\n  }\n}\n","import * as Scorm12CMI from './scorm12_cmi';\nimport {BaseCMI, CMIArray, CMIScore} from './common';\nimport APIConstants from '../constants/api_constants';\nimport Regex from '../constants/regex';\nimport ErrorCodes from '../constants/error_codes';\nimport {\n  check12ValidFormat,\n  throwReadOnlyError,\n} from './scorm12_cmi';\n\nconst aicc_constants = APIConstants.aicc;\nconst aicc_regex = Regex.aicc;\nconst scorm12_error_codes = ErrorCodes.scorm12;\n\n/**\n * CMI Class for AICC\n */\nexport class CMI extends Scorm12CMI.CMI {\n  /**\n   * Constructor for AICC CMI object\n   * @param {boolean} initialized\n   */\n  constructor(initialized: boolean) {\n    super(aicc_constants.cmi_children);\n\n    if (initialized) this.initialize();\n\n    this.student_preference = new AICCStudentPreferences();\n    this.student_data = new AICCCMIStudentData();\n    this.student_demographics = new CMIStudentDemographics();\n    this.evaluation = new CMIEvaluation();\n    this.paths = new CMIPaths();\n  }\n\n  /**\n   * Called when the API has been initialized after the CMI has been created\n   */\n  initialize() {\n    super.initialize();\n    this.student_preference?.initialize();\n    this.student_data?.initialize();\n    this.student_demographics?.initialize();\n    this.evaluation?.initialize();\n    this.paths?.initialize();\n  }\n\n  /**\n   * toJSON for cmi\n   *\n   * @return {\n   *    {\n   *      suspend_data: string,\n   *      launch_data: string,\n   *      comments: string,\n   *      comments_from_lms: string,\n   *      core: CMICore,\n   *      objectives: CMIObjectives,\n   *      student_data: CMIStudentData,\n   *      student_preference: CMIStudentPreference,\n   *      interactions: CMIInteractions,\n   *      paths: CMIPaths\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'suspend_data': this.suspend_data,\n      'launch_data': this.launch_data,\n      'comments': this.comments,\n      'comments_from_lms': this.comments_from_lms,\n      'core': this.core,\n      'objectives': this.objectives,\n      'student_data': this.student_data,\n      'student_preference': this.student_preference,\n      'student_demographics': this.student_demographics,\n      'interactions': this.interactions,\n      'evaluation': this.evaluation,\n      'paths': this.paths,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * AICC Evaluation object\n */\nclass CMIEvaluation extends BaseCMI {\n  /**\n   * Constructor for AICC Evaluation object\n   */\n  constructor() {\n    super();\n\n    this.comments = new CMIEvaluationComments();\n  }\n\n  /**\n   * Called when the API has been initialized after the CMI has been created\n   */\n  initialize() {\n    super.initialize();\n    this.comments?.initialize();\n  }\n\n  /**\n   * toJSON for cmi.evaluation object\n   * @return {{comments: CMIEvaluationComments}}\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'comments': this.comments,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class representing AICC's cmi.evaluation.comments object\n */\nclass CMIEvaluationComments extends CMIArray {\n  /**\n   * Constructor for AICC Evaluation Comments object\n   */\n  constructor() {\n    super(aicc_constants.comments_children,\n        scorm12_error_codes.INVALID_SET_VALUE);\n  }\n}\n\n/**\n * StudentPreferences class for AICC\n */\nclass AICCStudentPreferences extends Scorm12CMI.CMIStudentPreference {\n  /**\n   * Constructor for AICC Student Preferences object\n   */\n  constructor() {\n    super(aicc_constants.student_preference_children);\n\n    this.windows = new CMIArray({\n      errorCode: scorm12_error_codes.INVALID_SET_VALUE,\n      children: '',\n    });\n  }\n\n  /**\n   * Called when the API has been initialized after the CMI has been created\n   */\n  initialize() {\n    super.initialize();\n    this.windows?.initialize();\n  }\n\n  #lesson_type = '';\n  #text_color = '';\n  #text_location = '';\n  #text_size = '';\n  #video = '';\n\n  /**\n   * Getter for #lesson_type\n   * @return {string}\n   */\n  get lesson_type(): string {\n    return this.#lesson_type;\n  }\n\n  /**\n   * Setter for #lesson_type\n   * @param {string} lesson_type\n   */\n  set lesson_type(lesson_type: string) {\n    if (check12ValidFormat(lesson_type, aicc_regex.CMIString256)) {\n      this.#lesson_type = lesson_type;\n    }\n  }\n\n  /**\n   * Getter for #text_color\n   * @return {string}\n   */\n  get text_color(): string {\n    return this.#text_color;\n  }\n\n  /**\n   * Setter for #text_color\n   * @param {string} text_color\n   */\n  set text_color(text_color: string) {\n    if (check12ValidFormat(text_color, aicc_regex.CMIString256)) {\n      this.#text_color = text_color;\n    }\n  }\n\n  /**\n   * Getter for #text_location\n   * @return {string}\n   */\n  get text_location(): string {\n    return this.#text_location;\n  }\n\n  /**\n   * Setter for #text_location\n   * @param {string} text_location\n   */\n  set text_location(text_location: string) {\n    if (check12ValidFormat(text_location, aicc_regex.CMIString256)) {\n      this.#text_location = text_location;\n    }\n  }\n\n  /**\n   * Getter for #text_size\n   * @return {string}\n   */\n  get text_size(): string {\n    return this.#text_size;\n  }\n\n  /**\n   * Setter for #text_size\n   * @param {string} text_size\n   */\n  set text_size(text_size: string) {\n    if (check12ValidFormat(text_size, aicc_regex.CMIString256)) {\n      this.#text_size = text_size;\n    }\n  }\n\n  /**\n   * Getter for #video\n   * @return {string}\n   */\n  get video(): string {\n    return this.#video;\n  }\n\n  /**\n   * Setter for #video\n   * @param {string} video\n   */\n  set video(video: string) {\n    if (check12ValidFormat(video, aicc_regex.CMIString256)) {\n      this.#video = video;\n    }\n  }\n\n  /**\n   * toJSON for cmi.student_preference\n   *\n   * @return {\n   *    {\n   *      audio: string,\n   *      language: string,\n   *      speed: string,\n   *      text: string\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'audio': this.audio,\n      'language': this.language,\n      'lesson_type': this.lesson_type,\n      'speed': this.speed,\n      'text': this.text,\n      'text_color': this.text_color,\n      'text_location': this.text_location,\n      'text_size': this.text_size,\n      'video': this.video,\n      'windows': this.windows,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * StudentData class for AICC\n */\nclass AICCCMIStudentData extends Scorm12CMI.CMIStudentData {\n  /**\n   * Constructor for AICC StudentData object\n   */\n  constructor() {\n    super(aicc_constants.student_data_children);\n\n    this.tries = new CMITries();\n  }\n\n  /**\n   * Called when the API has been initialized after the CMI has been created\n   */\n  initialize() {\n    super.initialize();\n    this.tries?.initialize();\n  }\n\n  #tries_during_lesson = '';\n\n  /**\n   * Getter for tries_during_lesson\n   * @return {string}\n   */\n  get tries_during_lesson() {\n    return this.#tries_during_lesson;\n  }\n\n  /**\n   * Setter for #tries_during_lesson. Sets an error if trying to set after\n   *  initialization.\n   * @param {string} tries_during_lesson\n   */\n  set tries_during_lesson(tries_during_lesson) {\n    !this.initialized ?\n        this.#tries_during_lesson = tries_during_lesson :\n        throwReadOnlyError();\n  }\n\n  /**\n   * toJSON for cmi.student_data object\n   * @return {\n   *    {\n   *      mastery_score: string,\n   *      max_time_allowed: string,\n   *      time_limit_action: string,\n   *      tries: CMITries\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'mastery_score': this.mastery_score,\n      'max_time_allowed': this.max_time_allowed,\n      'time_limit_action': this.time_limit_action,\n      'tries': this.tries,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class representing the AICC cmi.student_demographics object\n */\nexport class CMIStudentDemographics extends BaseCMI {\n  /**\n   * Constructor for AICC StudentDemographics object\n   */\n  constructor() {\n    super();\n  }\n\n  #_children = aicc_constants.student_demographics_children;\n  #city = '';\n  #class = '';\n  #company = '';\n  #country = '';\n  #experience = '';\n  #familiar_name = '';\n  #instructor_name = '';\n  #title = '';\n  #native_language = '';\n  #state = '';\n  #street_address = '';\n  #telephone = '';\n  #years_experience = '';\n\n  /**\n   * Getter for city\n   * @return {string}\n   */\n  get city() {\n    return this.#city;\n  }\n\n  /**\n   * Setter for #city. Sets an error if trying to set after\n   *  initialization.\n   * @param {string} city\n   */\n  set city(city) {\n    !this.initialized ?\n        this.#city = city :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Getter for class\n   * @return {string}\n   */\n  get class() {\n    return this.#class;\n  }\n\n  /**\n   * Setter for #class. Sets an error if trying to set after\n   *  initialization.\n   * @param {string} clazz\n   */\n  set class(clazz) {\n    !this.initialized ?\n        this.#class = clazz :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Getter for company\n   * @return {string}\n   */\n  get company() {\n    return this.#company;\n  }\n\n  /**\n   * Setter for #company. Sets an error if trying to set after\n   *  initialization.\n   * @param {string} company\n   */\n  set company(company) {\n    !this.initialized ?\n        this.#company = company :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Getter for country\n   * @return {string}\n   */\n  get country() {\n    return this.#country;\n  }\n\n  /**\n   * Setter for #country. Sets an error if trying to set after\n   *  initialization.\n   * @param {string} country\n   */\n  set country(country) {\n    !this.initialized ?\n        this.#country = country :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Getter for experience\n   * @return {string}\n   */\n  get experience() {\n    return this.#experience;\n  }\n\n  /**\n   * Setter for #experience. Sets an error if trying to set after\n   *  initialization.\n   * @param {string} experience\n   */\n  set experience(experience) {\n    !this.initialized ?\n        this.#experience = experience :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Getter for familiar_name\n   * @return {string}\n   */\n  get familiar_name() {\n    return this.#familiar_name;\n  }\n\n  /**\n   * Setter for #familiar_name. Sets an error if trying to set after\n   *  initialization.\n   * @param {string} familiar_name\n   */\n  set familiar_name(familiar_name) {\n    !this.initialized ?\n        this.#familiar_name = familiar_name :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Getter for instructor_name\n   * @return {string}\n   */\n  get instructor_name() {\n    return this.#instructor_name;\n  }\n\n  /**\n   * Setter for #instructor_name. Sets an error if trying to set after\n   *  initialization.\n   * @param {string} instructor_name\n   */\n  set instructor_name(instructor_name) {\n    !this.initialized ?\n        this.#instructor_name = instructor_name :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Getter for title\n   * @return {string}\n   */\n  get title() {\n    return this.#title;\n  }\n\n  /**\n   * Setter for #title. Sets an error if trying to set after\n   *  initialization.\n   * @param {string} title\n   */\n  set title(title) {\n    !this.initialized ?\n        this.#title = title :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Getter for native_language\n   * @return {string}\n   */\n  get native_language() {\n    return this.#native_language;\n  }\n\n  /**\n   * Setter for #native_language. Sets an error if trying to set after\n   *  initialization.\n   * @param {string} native_language\n   */\n  set native_language(native_language) {\n    !this.initialized ?\n        this.#native_language = native_language :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Getter for state\n   * @return {string}\n   */\n  get state() {\n    return this.#state;\n  }\n\n  /**\n   * Setter for #state. Sets an error if trying to set after\n   *  initialization.\n   * @param {string} state\n   */\n  set state(state) {\n    !this.initialized ?\n        this.#state = state :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Getter for street_address\n   * @return {string}\n   */\n  get street_address() {\n    return this.#street_address;\n  }\n\n  /**\n   * Setter for #street_address. Sets an error if trying to set after\n   *  initialization.\n   * @param {string} street_address\n   */\n  set street_address(street_address) {\n    !this.initialized ?\n        this.#street_address = street_address :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Getter for telephone\n   * @return {string}\n   */\n  get telephone() {\n    return this.#telephone;\n  }\n\n  /**\n   * Setter for #telephone. Sets an error if trying to set after\n   *  initialization.\n   * @param {string} telephone\n   */\n  set telephone(telephone) {\n    !this.initialized ?\n        this.#telephone = telephone :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Getter for years_experience\n   * @return {string}\n   */\n  get years_experience() {\n    return this.#years_experience;\n  }\n\n  /**\n   * Setter for #years_experience. Sets an error if trying to set after\n   *  initialization.\n   * @param {string} years_experience\n   */\n  set years_experience(years_experience) {\n    !this.initialized ?\n        this.#years_experience = years_experience :\n        throwReadOnlyError();\n  }\n\n  /**\n   * toJSON for cmi.student_demographics object\n   * @return {\n   *      {\n   *        city: string,\n   *        class: string,\n   *        company: string,\n   *        country: string,\n   *        experience: string,\n   *        familiar_name: string,\n   *        instructor_name: string,\n   *        title: string,\n   *        native_language: string,\n   *        state: string,\n   *        street_address: string,\n   *        telephone: string,\n   *        years_experience: string\n   *      }\n   *    }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'city': this.city,\n      'class': this.class,\n      'company': this.company,\n      'country': this.country,\n      'experience': this.experience,\n      'familiar_name': this.familiar_name,\n      'instructor_name': this.instructor_name,\n      'title': this.title,\n      'native_language': this.native_language,\n      'state': this.state,\n      'street_address': this.street_address,\n      'telephone': this.telephone,\n      'years_experience': this.years_experience,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class representing the AICC cmi.paths object\n */\nexport class CMIPaths extends CMIArray {\n  /**\n   * Constructor for inline Paths Array class\n   */\n  constructor() {\n    super(aicc_constants.paths_children);\n  }\n}\n\n/**\n * Class for AICC Paths\n */\nexport class CMIPathsObject extends BaseCMI {\n  /**\n   * Constructor for AICC Paths objects\n   */\n  constructor() {\n    super();\n  }\n\n  #location_id = '';\n  #date = '';\n  #time = '';\n  #status = '';\n  #why_left = '';\n  #time_in_element = '';\n\n  /**\n   * Getter for #location_id\n   * @return {string}\n   */\n  get location_id() {\n    return this.#location_id;\n  }\n\n  /**\n   * Setter for #location_id\n   * @param {string} location_id\n   */\n  set location_id(location_id) {\n    if (check12ValidFormat(location_id, aicc_regex.CMIString256)) {\n      this.#location_id = location_id;\n    }\n  }\n\n  /**\n   * Getter for #date\n   * @return {string}\n   */\n  get date() {\n    return this.#date;\n  }\n\n  /**\n   * Setter for #date\n   * @param {string} date\n   */\n  set date(date) {\n    if (check12ValidFormat(date, aicc_regex.CMIString256)) {\n      this.#date = date;\n    }\n  }\n\n  /**\n   * Getter for #time\n   * @return {string}\n   */\n  get time() {\n    return this.#time;\n  }\n\n  /**\n   * Setter for #time\n   * @param {string} time\n   */\n  set time(time) {\n    if (check12ValidFormat(time, aicc_regex.CMITime)) {\n      this.#time = time;\n    }\n  }\n\n  /**\n   * Getter for #status\n   * @return {string}\n   */\n  get status() {\n    return this.#status;\n  }\n\n  /**\n   * Setter for #status\n   * @param {string} status\n   */\n  set status(status) {\n    if (check12ValidFormat(status, aicc_regex.CMIStatus2)) {\n      this.#status = status;\n    }\n  }\n\n  /**\n   * Getter for #why_left\n   * @return {string}\n   */\n  get why_left() {\n    return this.#why_left;\n  }\n\n  /**\n   * Setter for #why_left\n   * @param {string} why_left\n   */\n  set why_left(why_left) {\n    if (check12ValidFormat(why_left, aicc_regex.CMIString256)) {\n      this.#why_left = why_left;\n    }\n  }\n\n  /**\n   * Getter for #time_in_element\n   * @return {string}\n   */\n  get time_in_element() {\n    return this.#time_in_element;\n  }\n\n  /**\n   * Setter for #time_in_element\n   * @param {string} time_in_element\n   */\n  set time_in_element(time_in_element) {\n    if (check12ValidFormat(time_in_element, aicc_regex.CMITime)) {\n      this.#time_in_element = time_in_element;\n    }\n  }\n\n  /**\n   * toJSON for cmi.paths.n object\n   * @return {\n   *    {\n   *      location_id: string,\n   *      date: string,\n   *      time: string,\n   *      status: string,\n   *      why_left: string,\n   *      time_in_element: string\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'location_id': this.location_id,\n      'date': this.date,\n      'time': this.time,\n      'status': this.status,\n      'why_left': this.why_left,\n      'time_in_element': this.time_in_element,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class representing the AICC cmi.student_data.tries object\n */\nexport class CMITries extends CMIArray {\n  /**\n   * Constructor for inline Tries Array class\n   */\n  constructor() {\n    super(aicc_constants.tries_children);\n  }\n}\n\n/**\n * Class for AICC Tries\n */\nexport class CMITriesObject extends BaseCMI {\n  /**\n   * Constructor for AICC Tries object\n   */\n  constructor() {\n    super();\n\n    this.score = new CMIScore(\n        {\n          score_children: aicc_constants.score_children,\n          score_range: aicc_regex.score_range,\n          invalidErrorCode: scorm12_error_codes.INVALID_SET_VALUE,\n          invalidTypeCode: scorm12_error_codes.TYPE_MISMATCH,\n          invalidRangeCode: scorm12_error_codes.VALUE_OUT_OF_RANGE,\n        });\n  }\n\n  /**\n   * Called when the API has been initialized after the CMI has been created\n   */\n  initialize() {\n    super.initialize();\n    this.score?.initialize();\n  }\n\n  #status = '';\n  #time = '';\n\n  /**\n   * Getter for #status\n   * @return {string}\n   */\n  get status() {\n    return this.#status;\n  }\n\n  /**\n   * Setter for #status\n   * @param {string} status\n   */\n  set status(status) {\n    if (check12ValidFormat(status, aicc_regex.CMIStatus2)) {\n      this.#status = status;\n    }\n  }\n\n  /**\n   * Getter for #time\n   * @return {string}\n   */\n  get time() {\n    return this.#time;\n  }\n\n  /**\n   * Setter for #time\n   * @param {string} time\n   */\n  set time(time) {\n    if (check12ValidFormat(time, aicc_regex.CMITime)) {\n      this.#time = time;\n    }\n  }\n\n  /**\n   * toJSON for cmi.student_data.tries.n object\n   * @return {\n   *    {\n   *      status: string,\n   *      time: string,\n   *      score: CMIScore\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'status': this.status,\n      'time': this.time,\n      'score': this.score,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class for cmi.student_data.attempt_records array\n */\nexport class CMIAttemptRecords extends CMIArray {\n  /**\n   * Constructor for inline Tries Array class\n   */\n  constructor() {\n    super(aicc_constants.attempt_records_children);\n  }\n}\n\n/**\n * Class for AICC Attempt Records\n */\nexport class CMIAttemptRecordsObject extends BaseCMI {\n  /**\n   * Constructor for AICC Attempt Records object\n   */\n  constructor() {\n    super();\n\n    this.score = new CMIScore(\n        {\n          score_children: aicc_constants.score_children,\n          score_range: aicc_regex.score_range,\n          invalidErrorCode: scorm12_error_codes.INVALID_SET_VALUE,\n          invalidTypeCode: scorm12_error_codes.TYPE_MISMATCH,\n          invalidRangeCode: scorm12_error_codes.VALUE_OUT_OF_RANGE,\n        });\n  }\n\n  /**\n   * Called when the API has been initialized after the CMI has been created\n   */\n  initialize() {\n    super.initialize();\n    this.score?.initialize();\n  }\n\n  #lesson_status = '';\n\n  /**\n   * Getter for #lesson_status\n   * @return {string}\n   */\n  get lesson_status() {\n    return this.#lesson_status;\n  }\n\n  /**\n   * Setter for #lesson_status\n   * @param {string} lesson_status\n   */\n  set lesson_status(lesson_status) {\n    if (check12ValidFormat(lesson_status, aicc_regex.CMIStatus2)) {\n      this.#lesson_status = lesson_status;\n    }\n  }\n\n  /**\n   * toJSON for cmi.student_data.attempt_records.n object\n   * @return {\n   *    {\n   *      status: string,\n   *      time: string,\n   *      score: CMIScore\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'lesson_status': this.lesson_status,\n      'score': this.score,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class for AICC Evaluation Comments\n */\nexport class CMIEvaluationCommentsObject extends BaseCMI {\n  /**\n   * Constructor for Evaluation Comments\n   */\n  constructor() {\n    super();\n  }\n\n  #content = '';\n  #location = '';\n  #time = '';\n\n  /**\n   * Getter for #content\n   * @return {string}\n   */\n  get content() {\n    return this.#content;\n  }\n\n  /**\n   * Setter for #content\n   * @param {string} content\n   */\n  set content(content) {\n    if (check12ValidFormat(content, aicc_regex.CMIString256)) {\n      this.#content = content;\n    }\n  }\n\n  /**\n   * Getter for #location\n   * @return {string}\n   */\n  get location() {\n    return this.#location;\n  }\n\n  /**\n   * Setter for #location\n   * @param {string} location\n   */\n  set location(location) {\n    if (check12ValidFormat(location, aicc_regex.CMIString256)) {\n      this.#location = location;\n    }\n  }\n\n  /**\n   * Getter for #time\n   * @return {string}\n   */\n  get time() {\n    return this.#time;\n  }\n\n  /**\n   * Setting for #time\n   * @param {string} time\n   */\n  set time(time) {\n    if (check12ValidFormat(time, aicc_regex.CMITime)) {\n      this.#time = time;\n    }\n  }\n\n  /**\n   * toJSON for cmi.evaulation.comments.n object\n   * @return {\n   *    {\n   *      content: string,\n   *      location: string,\n   *      time: string\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'content': this.content,\n      'location': this.location,\n      'time': this.time,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n","// @flow\nimport APIConstants from '../constants/api_constants';\nimport ErrorCodes from '../constants/error_codes';\nimport {ValidationError} from '../exceptions';\nimport Regex from '../constants/regex';\n\nconst scorm12_constants = APIConstants.scorm12;\nconst scorm12_regex = Regex.scorm12;\nconst scorm12_error_codes = ErrorCodes.scorm12;\n\n/**\n * Check if the value matches the proper format. If not, throw proper error code.\n *\n * @param {string} value\n * @param {string} regexPattern\n * @param {number} errorCode\n * @param {boolean} allowEmptyString\n * @return {boolean}\n */\nexport function checkValidFormat(\n    value: String,\n    regexPattern: String,\n    errorCode: number,\n    allowEmptyString?: boolean) {\n  const formatRegex = new RegExp(regexPattern);\n  const matches = value.match(formatRegex);\n  if (allowEmptyString && value === '') {\n    return true;\n  }\n  if (value === undefined || !matches || matches[0] === '') {\n    throw new ValidationError(errorCode);\n  }\n  return true;\n}\n\n/**\n * Check if the value matches the proper range. If not, throw proper error code.\n *\n * @param {*} value\n * @param {string} rangePattern\n * @param {number} errorCode\n * @return {boolean}\n */\nexport function checkValidRange(\n    value: any, rangePattern: String, errorCode: number) {\n  const ranges = rangePattern.split('#');\n  value = value * 1.0;\n  if (value >= ranges[0]) {\n    if ((ranges[1] === '*') || (value <= ranges[1])) {\n      return true;\n    } else {\n      throw new ValidationError(errorCode);\n    }\n  } else {\n    throw new ValidationError(errorCode);\n  }\n}\n\n/**\n * Base class for API cmi objects\n */\nexport class BaseCMI {\n  jsonString = false;\n  #initialized = false;\n\n  /**\n   * Constructor for BaseCMI, just marks the class as abstract\n   */\n  constructor() {\n    if (new.target === BaseCMI) {\n      throw new TypeError('Cannot construct BaseCMI instances directly');\n    }\n  }\n\n  /**\n   * Getter for #initialized\n   * @return {boolean}\n   */\n  get initialized() {\n    return this.#initialized;\n  }\n\n  /**\n   * Called when the API has been initialized after the CMI has been created\n   */\n  initialize() {\n    this.#initialized = true;\n  }\n}\n\n/**\n * Base class for cmi *.score objects\n */\nexport class CMIScore extends BaseCMI {\n  /**\n   * Constructor for *.score\n   * @param {string} score_children\n   * @param {string} score_range\n   * @param {string} max\n   * @param {number} invalidErrorCode\n   * @param {number} invalidTypeCode\n   * @param {number} invalidRangeCode\n   * @param {string} decimalRegex\n   */\n  constructor(\n      {\n        score_children,\n        score_range,\n        max,\n        invalidErrorCode,\n        invalidTypeCode,\n        invalidRangeCode,\n        decimalRegex,\n      }) {\n    super();\n\n    this.#_children = score_children ||\n        scorm12_constants.score_children;\n    this.#_score_range = !score_range ? false : scorm12_regex.score_range;\n    this.#max = (max || max === '') ? max : '100';\n    this.#_invalid_error_code = invalidErrorCode ||\n        scorm12_error_codes.INVALID_SET_VALUE;\n    this.#_invalid_type_code = invalidTypeCode ||\n        scorm12_error_codes.TYPE_MISMATCH;\n    this.#_invalid_range_code = invalidRangeCode ||\n        scorm12_error_codes.VALUE_OUT_OF_RANGE;\n    this.#_decimal_regex = decimalRegex ||\n        scorm12_regex.CMIDecimal;\n  }\n\n  #_children;\n  #_score_range;\n  #_invalid_error_code;\n  #_invalid_type_code;\n  #_invalid_range_code;\n  #_decimal_regex;\n  #raw = '';\n  #min = '';\n  #max;\n\n  /**\n   * Getter for _children\n   * @return {string}\n   * @private\n   */\n  get _children() {\n    return this.#_children;\n  }\n\n  /**\n   * Setter for _children. Just throws an error.\n   * @param {string} _children\n   * @private\n   */\n  set _children(_children) {\n    throw new ValidationError(this.#_invalid_error_code);\n  }\n\n  /**\n   * Getter for #raw\n   * @return {string}\n   */\n  get raw() {\n    return this.#raw;\n  }\n\n  /**\n   * Setter for #raw\n   * @param {string} raw\n   */\n  set raw(raw) {\n    if (checkValidFormat(raw, this.#_decimal_regex,\n        this.#_invalid_type_code) &&\n        (!this.#_score_range ||\n            checkValidRange(raw, this.#_score_range,\n                this.#_invalid_range_code))) {\n      this.#raw = raw;\n    }\n  }\n\n  /**\n   * Getter for #min\n   * @return {string}\n   */\n  get min() {\n    return this.#min;\n  }\n\n  /**\n   * Setter for #min\n   * @param {string} min\n   */\n  set min(min) {\n    if (checkValidFormat(min, this.#_decimal_regex,\n        this.#_invalid_type_code) &&\n        (!this.#_score_range ||\n            checkValidRange(min, this.#_score_range,\n                this.#_invalid_range_code))) {\n      this.#min = min;\n    }\n  }\n\n  /**\n   * Getter for #max\n   * @return {string}\n   */\n  get max() {\n    return this.#max;\n  }\n\n  /**\n   * Setter for #max\n   * @param {string} max\n   */\n  set max(max) {\n    if (checkValidFormat(max, this.#_decimal_regex,\n        this.#_invalid_type_code) &&\n        (!this.#_score_range ||\n            checkValidRange(max, this.#_score_range,\n                this.#_invalid_range_code))) {\n      this.#max = max;\n    }\n  }\n\n  /**\n   * toJSON for *.score\n   * @return {{min: string, max: string, raw: string}}\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'raw': this.raw,\n      'min': this.min,\n      'max': this.max,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Base class for cmi *.n objects\n */\nexport class CMIArray extends BaseCMI {\n  /**\n   * Constructor cmi *.n arrays\n   * @param {string} children\n   * @param {number} errorCode\n   */\n  constructor({children, errorCode}) {\n    super();\n    this.#_children = children;\n    this.#errorCode = errorCode;\n    this.childArray = [];\n  }\n\n  #errorCode;\n  #_children;\n\n  /**\n   * Getter for _children\n   * @return {*}\n   */\n  get _children() {\n    return this.#_children;\n  }\n\n  /**\n   * Setter for _children. Just throws an error.\n   * @param {string} _children\n   */\n  set _children(_children) {\n    throw new ValidationError(this.#errorCode);\n  }\n\n  /**\n   * Getter for _count\n   * @return {number}\n   */\n  get _count() {\n    return this.childArray.length;\n  }\n\n  /**\n   * Setter for _count. Just throws an error.\n   * @param {number} _count\n   */\n  set _count(_count) {\n    throw new ValidationError(this.#errorCode);\n  }\n\n  /**\n   * toJSON for *.n arrays\n   * @return {object}\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {};\n    for (let i = 0; i < this.childArray.length; i++) {\n      result[i + ''] = this.childArray[i];\n    }\n    delete this.jsonString;\n    return result;\n  }\n}\n","// @flow\nimport {\n  BaseCMI,\n  checkValidFormat,\n  checkValidRange,\n  CMIArray,\n  CMIScore,\n} from './common';\nimport APIConstants from '../constants/api_constants';\nimport ErrorCodes from '../constants/error_codes';\nimport Regex from '../constants/regex';\nimport {ValidationError} from '../exceptions';\nimport * as Utilities from '../utilities';\n\nconst scorm12_constants = APIConstants.scorm12;\nconst scorm12_regex = Regex.scorm12;\nconst scorm12_error_codes = ErrorCodes.scorm12;\n\n/**\n * Helper method for throwing Read Only error\n */\nexport function throwReadOnlyError() {\n  throw new ValidationError(scorm12_error_codes.READ_ONLY_ELEMENT);\n}\n\n/**\n * Helper method for throwing Write Only error\n */\nexport function throwWriteOnlyError() {\n  throw new ValidationError(scorm12_error_codes.WRITE_ONLY_ELEMENT);\n}\n\n/**\n * Helper method for throwing Invalid Set error\n */\nfunction throwInvalidValueError() {\n  throw new ValidationError(scorm12_error_codes.INVALID_SET_VALUE);\n}\n\n/**\n * Helper method, no reason to have to pass the same error codes every time\n * @param {*} value\n * @param {string} regexPattern\n * @param {boolean} allowEmptyString\n * @return {boolean}\n */\nexport function check12ValidFormat(\n    value: String,\n    regexPattern: String,\n    allowEmptyString?: boolean) {\n  return checkValidFormat(value, regexPattern,\n      scorm12_error_codes.TYPE_MISMATCH, allowEmptyString);\n}\n\n/**\n * Helper method, no reason to have to pass the same error codes every time\n * @param {*} value\n * @param {string} rangePattern\n * @param {boolean} allowEmptyString\n * @return {boolean}\n */\nexport function check12ValidRange(\n    value: any,\n    rangePattern: String,\n    allowEmptyString?: boolean) {\n  return checkValidRange(value, rangePattern,\n      scorm12_error_codes.VALUE_OUT_OF_RANGE, allowEmptyString);\n}\n\n/**\n * Class representing the cmi object for SCORM 1.2\n */\nexport class CMI extends BaseCMI {\n  #_children = '';\n  #_version = '3.4';\n  #launch_data = '';\n  #comments = '';\n  #comments_from_lms = '';\n\n  student_data = null;\n\n  /**\n   * Constructor for the SCORM 1.2 cmi object\n   * @param {string} cmi_children\n   * @param {(CMIStudentData|AICCCMIStudentData)} student_data\n   * @param {boolean} initialized\n   */\n  constructor(cmi_children, student_data, initialized: boolean) {\n    super();\n\n    if (initialized) this.initialize();\n\n    this.#_children = cmi_children ?\n        cmi_children :\n        scorm12_constants.cmi_children;\n    this.core = new CMICore();\n    this.objectives = new CMIObjectives();\n    this.student_data = student_data ? student_data : new CMIStudentData();\n    this.student_preference = new CMIStudentPreference();\n    this.interactions = new CMIInteractions();\n  }\n\n  /**\n   * Called when the API has been initialized after the CMI has been created\n   */\n  initialize() {\n    super.initialize();\n    this.core?.initialize();\n    this.objectives?.initialize();\n    this.student_data?.initialize();\n    this.student_preference?.initialize();\n    this.interactions?.initialize();\n  }\n\n  /**\n   * toJSON for cmi\n   *\n   * @return {\n   *    {\n   *      suspend_data: string,\n   *      launch_data: string,\n   *      comments: string,\n   *      comments_from_lms: string,\n   *      core: CMICore,\n   *      objectives: CMIObjectives,\n   *      student_data: CMIStudentData,\n   *      student_preference: CMIStudentPreference,\n   *      interactions: CMIInteractions\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'suspend_data': this.suspend_data,\n      'launch_data': this.launch_data,\n      'comments': this.comments,\n      'comments_from_lms': this.comments_from_lms,\n      'core': this.core,\n      'objectives': this.objectives,\n      'student_data': this.student_data,\n      'student_preference': this.student_preference,\n      'interactions': this.interactions,\n    };\n    delete this.jsonString;\n    return result;\n  }\n\n  /**\n   * Getter for #_version\n   * @return {string}\n   */\n  get _version() {\n    return this.#_version;\n  }\n\n  /**\n   * Setter for #_version. Just throws an error.\n   * @param {string} _version\n   */\n  set _version(_version) {\n    throwInvalidValueError();\n  }\n\n  /**\n   * Getter for #_children\n   * @return {string}\n   */\n  get _children() {\n    return this.#_children;\n  }\n\n  /**\n   * Setter for #_version. Just throws an error.\n   * @param {string} _children\n   */\n  set _children(_children) {\n    throwInvalidValueError();\n  }\n\n  /**\n   * Getter for #suspend_data\n   * @return {string}\n   */\n  get suspend_data() {\n    return this.core?.suspend_data;\n  }\n\n  /**\n   * Setter for #suspend_data\n   * @param {string} suspend_data\n   */\n  set suspend_data(suspend_data) {\n    if (this.core) {\n      this.core.suspend_data = suspend_data;\n    }\n  }\n\n  /**\n   * Getter for #launch_data\n   * @return {string}\n   */\n  get launch_data() {\n    return this.#launch_data;\n  }\n\n  /**\n   * Setter for #launch_data. Can only be called before  initialization.\n   * @param {string} launch_data\n   */\n  set launch_data(launch_data) {\n    !this.initialized ? this.#launch_data = launch_data : throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #comments\n   * @return {string}\n   */\n  get comments() {\n    return this.#comments;\n  }\n\n  /**\n   * Setter for #comments\n   * @param {string} comments\n   */\n  set comments(comments) {\n    if (check12ValidFormat(comments, scorm12_regex.CMIString4096)) {\n      this.#comments = comments;\n    }\n  }\n\n  /**\n   * Getter for #comments_from_lms\n   * @return {string}\n   */\n  get comments_from_lms() {\n    return this.#comments_from_lms;\n  }\n\n  /**\n   * Setter for #comments_from_lms. Can only be called before  initialization.\n   * @param {string} comments_from_lms\n   */\n  set comments_from_lms(comments_from_lms) {\n    !this.initialized ?\n        this.#comments_from_lms = comments_from_lms :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Adds the current session time to the existing total time.\n   *\n   * @return {string}\n   */\n  getCurrentTotalTime() {\n    return this.core.getCurrentTotalTime();\n  }\n}\n\n/**\n * Class representing the cmi.core object\n * @extends BaseCMI\n */\nclass CMICore extends BaseCMI {\n  /**\n   * Constructor for cmi.core\n   */\n  constructor() {\n    super();\n\n    this.score = new CMIScore(\n        {\n          score_children: scorm12_constants.score_children,\n          score_range: scorm12_regex.score_range,\n          invalidErrorCode: scorm12_error_codes.INVALID_SET_VALUE,\n          invalidTypeCode: scorm12_error_codes.TYPE_MISMATCH,\n          invalidRangeCode: scorm12_error_codes.VALUE_OUT_OF_RANGE,\n        });\n  }\n\n  /**\n   * Called when the API has been initialized after the CMI has been created\n   */\n  initialize() {\n    super.initialize();\n    this.score?.initialize();\n  }\n\n  #_children = scorm12_constants.core_children;\n  #student_id = '';\n  #student_name = '';\n  #lesson_location = '';\n  #credit = '';\n  #lesson_status = 'not attempted';\n  #entry = '';\n  #total_time = '';\n  #lesson_mode = 'normal';\n  #exit = '';\n  #session_time = '00:00:00';\n  #suspend_data = '';\n\n  /**\n   * Getter for #_children\n   * @return {string}\n   * @private\n   */\n  get _children() {\n    return this.#_children;\n  }\n\n  /**\n   * Setter for #_children. Just throws an error.\n   * @param {string} _children\n   * @private\n   */\n  set _children(_children) {\n    throwInvalidValueError();\n  }\n\n  /**\n   * Getter for #student_id\n   * @return {string}\n   */\n  get student_id() {\n    return this.#student_id;\n  }\n\n  /**\n   * Setter for #student_id. Can only be called before  initialization.\n   * @param {string} student_id\n   */\n  set student_id(student_id) {\n    !this.initialized ? this.#student_id = student_id : throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #student_name\n   * @return {string}\n   */\n  get student_name() {\n    return this.#student_name;\n  }\n\n  /**\n   * Setter for #student_name. Can only be called before  initialization.\n   * @param {string} student_name\n   */\n  set student_name(student_name) {\n    !this.initialized ?\n        this.#student_name = student_name :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #lesson_location\n   * @return {string}\n   */\n  get lesson_location() {\n    return this.#lesson_location;\n  }\n\n  /**\n   * Setter for #lesson_location\n   * @param {string} lesson_location\n   */\n  set lesson_location(lesson_location) {\n    if (check12ValidFormat(lesson_location, scorm12_regex.CMIString256, true)) {\n      this.#lesson_location = lesson_location;\n    }\n  }\n\n  /**\n   * Getter for #credit\n   * @return {string}\n   */\n  get credit() {\n    return this.#credit;\n  }\n\n  /**\n   * Setter for #credit. Can only be called before  initialization.\n   * @param {string} credit\n   */\n  set credit(credit) {\n    !this.initialized ? this.#credit = credit : throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #lesson_status\n   * @return {string}\n   */\n  get lesson_status() {\n    return this.#lesson_status;\n  }\n\n  /**\n   * Setter for #lesson_status\n   * @param {string} lesson_status\n   */\n  set lesson_status(lesson_status) {\n    if (check12ValidFormat(lesson_status, scorm12_regex.CMIStatus)) {\n      this.#lesson_status = lesson_status;\n    }\n  }\n\n  /**\n   * Getter for #entry\n   * @return {string}\n   */\n  get entry() {\n    return this.#entry;\n  }\n\n  /**\n   * Setter for #entry. Can only be called before  initialization.\n   * @param {string} entry\n   */\n  set entry(entry) {\n    !this.initialized ? this.#entry = entry : throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #total_time\n   * @return {string}\n   */\n  get total_time() {\n    return this.#total_time;\n  }\n\n  /**\n   * Setter for #total_time. Can only be called before  initialization.\n   * @param {string} total_time\n   */\n  set total_time(total_time) {\n    !this.initialized ? this.#total_time = total_time : throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #lesson_mode\n   * @return {string}\n   */\n  get lesson_mode() {\n    return this.#lesson_mode;\n  }\n\n  /**\n   * Setter for #lesson_mode. Can only be called before  initialization.\n   * @param {string} lesson_mode\n   */\n  set lesson_mode(lesson_mode) {\n    !this.initialized ? this.#lesson_mode = lesson_mode : throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #exit. Should only be called during JSON export.\n   * @return {*}\n   */\n  get exit() {\n    return (!this.jsonString) ? throwWriteOnlyError() : this.#exit;\n  }\n\n  /**\n   * Setter for #exit\n   * @param {string} exit\n   */\n  set exit(exit) {\n    if (check12ValidFormat(exit, scorm12_regex.CMIExit, true)) {\n      this.#exit = exit;\n    }\n  }\n\n  /**\n   * Getter for #session_time. Should only be called during JSON export.\n   * @return {*}\n   */\n  get session_time() {\n    return (!this.jsonString) ? throwWriteOnlyError() : this.#session_time;\n  }\n\n  /**\n   * Setter for #session_time\n   * @param {string} session_time\n   */\n  set session_time(session_time) {\n    if (check12ValidFormat(session_time, scorm12_regex.CMITimespan)) {\n      this.#session_time = session_time;\n    }\n  }\n\n  /**\n   * Getter for #suspend_data\n   * @return {string}\n   */\n  get suspend_data() {\n    return this.#suspend_data;\n  }\n\n  /**\n   * Setter for #suspend_data\n   * @param {string} suspend_data\n   */\n  set suspend_data(suspend_data) {\n    if (check12ValidFormat(suspend_data, scorm12_regex.CMIString4096, true)) {\n      this.#suspend_data = suspend_data;\n    }\n  }\n\n  /**\n   * Adds the current session time to the existing total time.\n   *\n   * @return {string}\n   */\n  getCurrentTotalTime() {\n    return Utilities.addHHMMSSTimeStrings(\n        this.#total_time,\n        this.#session_time,\n        new RegExp(scorm12_regex.CMITimespan),\n    );\n  }\n\n  /**\n   * toJSON for cmi.core\n   *\n   * @return {\n   *    {\n   *      student_name: string,\n   *      entry: string,\n   *      exit: string,\n   *      score: CMIScore,\n   *      student_id: string,\n   *      lesson_mode: string,\n   *      lesson_location: string,\n   *      lesson_status: string,\n   *      credit: string,\n   *      session_time: *\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'student_id': this.student_id,\n      'student_name': this.student_name,\n      'lesson_location': this.lesson_location,\n      'credit': this.credit,\n      'lesson_status': this.lesson_status,\n      'entry': this.entry,\n      'lesson_mode': this.lesson_mode,\n      'exit': this.exit,\n      'session_time': this.session_time,\n      'score': this.score,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class representing SCORM 1.2's cmi.objectives object\n * @extends CMIArray\n */\nclass CMIObjectives extends CMIArray {\n  /**\n   * Constructor for cmi.objectives\n   */\n  constructor() {\n    super({\n      children: scorm12_constants.objectives_children,\n      errorCode: scorm12_error_codes.INVALID_SET_VALUE,\n    });\n  }\n}\n\n/**\n * Class representing SCORM 1.2's cmi.student_data object\n * @extends BaseCMI\n */\nexport class CMIStudentData extends BaseCMI {\n  #_children;\n  #mastery_score = '';\n  #max_time_allowed = '';\n  #time_limit_action = '';\n\n  /**\n   * Constructor for cmi.student_data\n   * @param {string} student_data_children\n   */\n  constructor(student_data_children) {\n    super();\n\n    this.#_children = student_data_children ?\n        student_data_children :\n        scorm12_constants.student_data_children;\n  }\n\n  /**\n   * Getter for #_children\n   * @return {*}\n   * @private\n   */\n  get _children() {\n    return this.#_children;\n  }\n\n  /**\n   * Setter for #_children. Just throws an error.\n   * @param {string} _children\n   * @private\n   */\n  set _children(_children) {\n    throwInvalidValueError();\n  }\n\n  /**\n   * Getter for #master_score\n   * @return {string}\n   */\n  get mastery_score() {\n    return this.#mastery_score;\n  }\n\n  /**\n   * Setter for #master_score. Can only be called before  initialization.\n   * @param {string} mastery_score\n   */\n  set mastery_score(mastery_score) {\n    !this.initialized ?\n        this.#mastery_score = mastery_score :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #max_time_allowed\n   * @return {string}\n   */\n  get max_time_allowed() {\n    return this.#max_time_allowed;\n  }\n\n  /**\n   * Setter for #max_time_allowed. Can only be called before  initialization.\n   * @param {string} max_time_allowed\n   */\n  set max_time_allowed(max_time_allowed) {\n    !this.initialized ?\n        this.#max_time_allowed = max_time_allowed :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #time_limit_action\n   * @return {string}\n   */\n  get time_limit_action() {\n    return this.#time_limit_action;\n  }\n\n  /**\n   * Setter for #time_limit_action. Can only be called before  initialization.\n   * @param {string} time_limit_action\n   */\n  set time_limit_action(time_limit_action) {\n    !this.initialized ?\n        this.#time_limit_action = time_limit_action :\n        throwReadOnlyError();\n  }\n\n  /**\n   * toJSON for cmi.student_data\n   *\n   * @return {\n   *    {\n   *      max_time_allowed: string,\n   *      time_limit_action: string,\n   *      mastery_score: string\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'mastery_score': this.mastery_score,\n      'max_time_allowed': this.max_time_allowed,\n      'time_limit_action': this.time_limit_action,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class representing SCORM 1.2's cmi.student_preference object\n * @extends BaseCMI\n */\nexport class CMIStudentPreference extends BaseCMI {\n  #_children;\n\n  /**\n   * Constructor for cmi.student_preference\n   * @param {string} student_preference_children\n   */\n  constructor(student_preference_children) {\n    super();\n\n    this.#_children = student_preference_children ?\n        student_preference_children :\n        scorm12_constants.student_preference_children;\n  }\n\n  #audio = '';\n  #language = '';\n  #speed = '';\n  #text = '';\n\n  /**\n   * Getter for #_children\n   * @return {string}\n   * @private\n   */\n  get _children() {\n    return this.#_children;\n  }\n\n  /**\n   * Setter for #_children. Just throws an error.\n   * @param {string} _children\n   * @private\n   */\n  set _children(_children) {\n    throwInvalidValueError();\n  }\n\n  /**\n   * Getter for #audio\n   * @return {string}\n   */\n  get audio() {\n    return this.#audio;\n  }\n\n  /**\n   * Setter for #audio\n   * @param {string} audio\n   */\n  set audio(audio) {\n    if (check12ValidFormat(audio, scorm12_regex.CMISInteger) &&\n        check12ValidRange(audio, scorm12_regex.audio_range)) {\n      this.#audio = audio;\n    }\n  }\n\n  /**\n   * Getter for #language\n   * @return {string}\n   */\n  get language() {\n    return this.#language;\n  }\n\n  /**\n   * Setter for #language\n   * @param {string} language\n   */\n  set language(language) {\n    if (check12ValidFormat(language, scorm12_regex.CMIString256)) {\n      this.#language = language;\n    }\n  }\n\n  /**\n   * Getter for #speed\n   * @return {string}\n   */\n  get speed() {\n    return this.#speed;\n  }\n\n  /**\n   * Setter for #speed\n   * @param {string} speed\n   */\n  set speed(speed) {\n    if (check12ValidFormat(speed, scorm12_regex.CMISInteger) &&\n        check12ValidRange(speed, scorm12_regex.speed_range)) {\n      this.#speed = speed;\n    }\n  }\n\n  /**\n   * Getter for #text\n   * @return {string}\n   */\n  get text() {\n    return this.#text;\n  }\n\n  /**\n   * Setter for #text\n   * @param {string} text\n   */\n  set text(text) {\n    if (check12ValidFormat(text, scorm12_regex.CMISInteger) &&\n        check12ValidRange(text, scorm12_regex.text_range)) {\n      this.#text = text;\n    }\n  }\n\n  /**\n   * toJSON for cmi.student_preference\n   *\n   * @return {\n   *    {\n   *      audio: string,\n   *      language: string,\n   *      speed: string,\n   *      text: string\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'audio': this.audio,\n      'language': this.language,\n      'speed': this.speed,\n      'text': this.text,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class representing SCORM 1.2's cmi.interactions object\n * @extends BaseCMI\n */\nclass CMIInteractions extends CMIArray {\n  /**\n   * Constructor for cmi.interactions\n   */\n  constructor() {\n    super({\n      children: scorm12_constants.interactions_children,\n      errorCode: scorm12_error_codes.INVALID_SET_VALUE,\n    });\n  }\n}\n\n/**\n * Class representing SCORM 1.2's cmi.interactions.n object\n * @extends BaseCMI\n */\nexport class CMIInteractionsObject extends BaseCMI {\n  /**\n   * Constructor for cmi.interactions.n object\n   */\n  constructor() {\n    super();\n\n    this.objectives = new CMIArray({\n      errorCode: scorm12_error_codes.INVALID_SET_VALUE,\n      children: scorm12_constants.objectives_children,\n    });\n    this.correct_responses = new CMIArray({\n      errorCode: scorm12_error_codes.INVALID_SET_VALUE,\n      children: scorm12_constants.correct_responses_children,\n    });\n  }\n\n  /**\n   * Called when the API has been initialized after the CMI has been created\n   */\n  initialize() {\n    super.initialize();\n    this.objectives?.initialize();\n    this.correct_responses?.initialize();\n  }\n\n  #id = '';\n  #time = '';\n  #type = '';\n  #weighting = '';\n  #student_response = '';\n  #result = '';\n  #latency = '';\n\n  /**\n   * Getter for #id. Should only be called during JSON export.\n   * @return {*}\n   */\n  get id() {\n    return (!this.jsonString) ? throwWriteOnlyError() : this.#id;\n  }\n\n  /**\n   * Setter for #id\n   * @param {string} id\n   */\n  set id(id) {\n    if (check12ValidFormat(id, scorm12_regex.CMIIdentifier)) {\n      this.#id = id;\n    }\n  }\n\n  /**\n   * Getter for #time. Should only be called during JSON export.\n   * @return {*}\n   */\n  get time() {\n    return (!this.jsonString) ? throwWriteOnlyError() : this.#time;\n  }\n\n  /**\n   * Setter for #time\n   * @param {string} time\n   */\n  set time(time) {\n    if (check12ValidFormat(time, scorm12_regex.CMITime)) {\n      this.#time = time;\n    }\n  }\n\n  /**\n   * Getter for #type. Should only be called during JSON export.\n   * @return {*}\n   */\n  get type() {\n    return (!this.jsonString) ? throwWriteOnlyError() : this.#type;\n  }\n\n  /**\n   * Setter for #type\n   * @param {string} type\n   */\n  set type(type) {\n    if (check12ValidFormat(type, scorm12_regex.CMIType)) {\n      this.#type = type;\n    }\n  }\n\n  /**\n   * Getter for #weighting. Should only be called during JSON export.\n   * @return {*}\n   */\n  get weighting() {\n    return (!this.jsonString) ?\n        throwWriteOnlyError() :\n        this.#weighting;\n  }\n\n  /**\n   * Setter for #weighting\n   * @param {string} weighting\n   */\n  set weighting(weighting) {\n    if (check12ValidFormat(weighting, scorm12_regex.CMIDecimal) &&\n        check12ValidRange(weighting, scorm12_regex.weighting_range)) {\n      this.#weighting = weighting;\n    }\n  }\n\n  /**\n   * Getter for #student_response. Should only be called during JSON export.\n   * @return {*}\n   */\n  get student_response() {\n    return (!this.jsonString) ? throwWriteOnlyError() : this.#student_response;\n  }\n\n  /**\n   * Setter for #student_response\n   * @param {string} student_response\n   */\n  set student_response(student_response) {\n    if (check12ValidFormat(student_response, scorm12_regex.CMIFeedback, true)) {\n      this.#student_response = student_response;\n    }\n  }\n\n  /**\n   * Getter for #result. Should only be called during JSON export.\n   * @return {*}\n   */\n  get result() {\n    return (!this.jsonString) ? throwWriteOnlyError() : this.#result;\n  }\n\n  /**\n   * Setter for #result\n   * @param {string} result\n   */\n  set result(result) {\n    if (check12ValidFormat(result, scorm12_regex.CMIResult)) {\n      this.#result = result;\n    }\n  }\n\n  /**\n   * Getter for #latency. Should only be called during JSON export.\n   * @return {*}\n   */\n  get latency() {\n    return (!this.jsonString) ? throwWriteOnlyError() : this.#latency;\n  }\n\n  /**\n   * Setter for #latency\n   * @param {string} latency\n   */\n  set latency(latency) {\n    if (check12ValidFormat(latency, scorm12_regex.CMITimespan)) {\n      this.#latency = latency;\n    }\n  }\n\n  /**\n   * toJSON for cmi.interactions.n\n   *\n   * @return {\n   *    {\n   *      id: string,\n   *      time: string,\n   *      type: string,\n   *      weighting: string,\n   *      student_response: string,\n   *      result: string,\n   *      latency: string,\n   *      objectives: CMIArray,\n   *      correct_responses: CMIArray\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'id': this.id,\n      'time': this.time,\n      'type': this.type,\n      'weighting': this.weighting,\n      'student_response': this.student_response,\n      'result': this.result,\n      'latency': this.latency,\n      'objectives': this.objectives,\n      'correct_responses': this.correct_responses,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class representing SCORM 1.2's cmi.objectives.n object\n * @extends BaseCMI\n */\nexport class CMIObjectivesObject extends BaseCMI {\n  /**\n   * Constructor for cmi.objectives.n\n   */\n  constructor() {\n    super();\n\n    this.score = new CMIScore(\n        {\n          score_children: scorm12_constants.score_children,\n          score_range: scorm12_regex.score_range,\n          invalidErrorCode: scorm12_error_codes.INVALID_SET_VALUE,\n          invalidTypeCode: scorm12_error_codes.TYPE_MISMATCH,\n          invalidRangeCode: scorm12_error_codes.VALUE_OUT_OF_RANGE,\n        });\n  }\n\n  #id = '';\n  #status = '';\n\n  /**\n   * Getter for #id\n   * @return {\"\"}\n   */\n  get id() {\n    return this.#id;\n  }\n\n  /**\n   * Setter for #id\n   * @param {string} id\n   */\n  set id(id) {\n    if (check12ValidFormat(id, scorm12_regex.CMIIdentifier)) {\n      this.#id = id;\n    }\n  }\n\n  /**\n   * Getter for #status\n   * @return {\"\"}\n   */\n  get status() {\n    return this.#status;\n  }\n\n  /**\n   * Setter for #status\n   * @param {string} status\n   */\n  set status(status) {\n    if (check12ValidFormat(status, scorm12_regex.CMIStatus2)) {\n      this.#status = status;\n    }\n  }\n\n  /**\n   * toJSON for cmi.objectives.n\n   * @return {\n   *    {\n   *      id: string,\n   *      status: string,\n   *      score: CMIScore\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'id': this.id,\n      'status': this.status,\n      'score': this.score,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class representing SCORM 1.2's cmi.interactions.n.objectives.n object\n * @extends BaseCMI\n */\nexport class CMIInteractionsObjectivesObject extends BaseCMI {\n  /**\n   * Constructor for cmi.interactions.n.objectives.n\n   */\n  constructor() {\n    super();\n  }\n\n  #id = '';\n\n  /**\n   * Getter for #id\n   * @return {\"\"}\n   */\n  get id() {\n    return this.#id;\n  }\n\n  /**\n   * Setter for #id\n   * @param {string} id\n   */\n  set id(id) {\n    if (check12ValidFormat(id, scorm12_regex.CMIIdentifier)) {\n      this.#id = id;\n    }\n  }\n\n  /**\n   * toJSON for cmi.interactions.n.objectives.n\n   * @return {\n   *    {\n   *      id: string\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'id': this.id,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class representing SCORM 1.2's cmi.interactions.correct_responses.n object\n * @extends BaseCMI\n */\nexport class CMIInteractionsCorrectResponsesObject extends BaseCMI {\n  /**\n   * Constructor for cmi.interactions.correct_responses.n\n   */\n  constructor() {\n    super();\n  }\n\n  #pattern = '';\n\n  /**\n   * Getter for #pattern\n   * @return {string}\n   */\n  get pattern() {\n    return (!this.jsonString) ? throwWriteOnlyError() : this.#pattern;\n  }\n\n  /**\n   * Setter for #pattern\n   * @param {string} pattern\n   */\n  set pattern(pattern) {\n    if (check12ValidFormat(pattern, scorm12_regex.CMIFeedback, true)) {\n      this.#pattern = pattern;\n    }\n  }\n\n  /**\n   * toJSON for cmi.interactions.correct_responses.n\n   * @return {\n   *    {\n   *      pattern: string\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'pattern': this.pattern,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class for AICC Navigation object\n */\nexport class NAV extends BaseCMI {\n  /**\n   * Constructor for NAV object\n   */\n  constructor() {\n    super();\n  }\n\n  #event = '';\n\n  /**\n   * Getter for #event\n   * @return {string}\n   */\n  get event() {\n    return this.#event;\n  }\n\n  /**\n   * Setter for #event\n   * @param {string} event\n   */\n  set event(event) {\n    if (check12ValidFormat(event, scorm12_regex.NAVEvent)) {\n      this.#event = event;\n    }\n  }\n\n  /**\n   * toJSON for nav object\n   * @return {\n   *    {\n   *      event: string\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'event': this.event,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n","// @flow\nimport {\n  BaseCMI,\n  checkValidFormat,\n  checkValidRange,\n  CMIArray,\n  CMIScore,\n} from './common';\nimport APIConstants from '../constants/api_constants';\nimport Regex from '../constants/regex';\nimport ErrorCodes from '../constants/error_codes';\nimport Responses from '../constants/response_constants';\nimport {ValidationError} from '../exceptions';\nimport * as Util from '../utilities';\n\nconst scorm2004_constants = APIConstants.scorm2004;\nconst scorm2004_error_codes = ErrorCodes.scorm2004;\nconst learner_responses = Responses.learner;\n\nconst scorm2004_regex = Regex.scorm2004;\n\n/**\n * Helper method for throwing Read Only error\n */\nfunction throwReadOnlyError() {\n  throw new ValidationError(scorm2004_error_codes.READ_ONLY_ELEMENT);\n}\n\n/**\n * Helper method for throwing Write Only error\n */\nfunction throwWriteOnlyError() {\n  throw new ValidationError(scorm2004_error_codes.WRITE_ONLY_ELEMENT);\n}\n\n/**\n * Helper method for throwing Type Mismatch error\n */\nfunction throwTypeMismatchError() {\n  throw new ValidationError(scorm2004_error_codes.TYPE_MISMATCH);\n}\n\n/**\n * Helper method, no reason to have to pass the same error codes every time\n * @param {*} value\n * @param {string} regexPattern\n * @param {boolean} allowEmptyString\n * @return {boolean}\n */\nfunction check2004ValidFormat(\n    value: String,\n    regexPattern: String,\n    allowEmptyString?: boolean) {\n  return checkValidFormat(value, regexPattern,\n      scorm2004_error_codes.TYPE_MISMATCH, allowEmptyString);\n}\n\n/**\n * Helper method, no reason to have to pass the same error codes every time\n * @param {*} value\n * @param {string} rangePattern\n * @return {boolean}\n */\nfunction check2004ValidRange(value: any, rangePattern: String) {\n  return checkValidRange(value, rangePattern,\n      scorm2004_error_codes.VALUE_OUT_OF_RANGE);\n}\n\n/**\n * Class representing cmi object for SCORM 2004\n */\nexport class CMI extends BaseCMI {\n  /**\n   * Constructor for the SCORM 2004 cmi object\n   * @param {boolean} initialized\n   */\n  constructor(initialized: boolean) {\n    super();\n\n    this.learner_preference = new CMILearnerPreference();\n    this.score = new Scorm2004CMIScore();\n    this.comments_from_learner = new CMICommentsFromLearner();\n    this.comments_from_lms = new CMICommentsFromLMS();\n    this.interactions = new CMIInteractions();\n    this.objectives = new CMIObjectives();\n\n    if (initialized) this.initialize();\n  }\n\n  #_version = '1.0';\n  #_children = scorm2004_constants.cmi_children;\n  #completion_status = 'unknown';\n  #completion_threshold = '';\n  #credit = 'credit';\n  #entry = '';\n  #exit = '';\n  #launch_data = '';\n  #learner_id = '';\n  #learner_name = '';\n  #location = '';\n  #max_time_allowed = '';\n  #mode = 'normal';\n  #progress_measure = '';\n  #scaled_passing_score = '';\n  #session_time = 'PT0H0M0S';\n  #success_status = 'unknown';\n  #suspend_data = '';\n  #time_limit_action = 'continue,no message';\n  #total_time = '';\n\n  /**\n   * Called when the API has been initialized after the CMI has been created\n   */\n  initialize() {\n    super.initialize();\n    this.learner_preference?.initialize();\n    this.score?.initialize();\n    this.comments_from_learner?.initialize();\n    this.comments_from_lms?.initialize();\n    this.interactions?.initialize();\n    this.objectives?.initialize();\n  }\n\n  /**\n   * Getter for #_version\n   * @return {string}\n   * @private\n   */\n  get _version() {\n    return this.#_version;\n  }\n\n  /**\n   * Setter for #_version. Just throws an error.\n   * @param {string} _version\n   * @private\n   */\n  set _version(_version) {\n    throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #_children\n   * @return {string}\n   * @private\n   */\n  get _children() {\n    return this.#_children;\n  }\n\n  /**\n   * Setter for #_children. Just throws an error.\n   * @param {number} _children\n   * @private\n   */\n  set _children(_children) {\n    throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #completion_status\n   * @return {string}\n   */\n  get completion_status() {\n    return this.#completion_status;\n  }\n\n  /**\n   * Setter for #completion_status\n   * @param {string} completion_status\n   */\n  set completion_status(completion_status) {\n    if (check2004ValidFormat(completion_status, scorm2004_regex.CMICStatus)) {\n      this.#completion_status = completion_status;\n    }\n  }\n\n  /**\n   * Getter for #completion_threshold\n   * @return {string}\n   */\n  get completion_threshold() {\n    return this.#completion_threshold;\n  }\n\n  /**\n   * Setter for #completion_threshold. Can only be called before  initialization.\n   * @param {string} completion_threshold\n   */\n  set completion_threshold(completion_threshold) {\n    !this.initialized ?\n        this.#completion_threshold = completion_threshold :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Setter for #credit\n   * @return {string}\n   */\n  get credit() {\n    return this.#credit;\n  }\n\n  /**\n   * Setter for #credit. Can only be called before  initialization.\n   * @param {string} credit\n   */\n  set credit(credit) {\n    !this.initialized ? this.#credit = credit : throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #entry\n   * @return {string}\n   */\n  get entry() {\n    return this.#entry;\n  }\n\n  /**\n   * Setter for #entry. Can only be called before  initialization.\n   * @param {string} entry\n   */\n  set entry(entry) {\n    !this.initialized ? this.#entry = entry : throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #exit. Should only be called during JSON export.\n   * @return {string}\n   */\n  get exit() {\n    return (!this.jsonString) ? throwWriteOnlyError() : this.#exit;\n  }\n\n  /**\n   * Getter for #exit\n   * @param {string} exit\n   */\n  set exit(exit) {\n    if (check2004ValidFormat(exit, scorm2004_regex.CMIExit, true)) {\n      this.#exit = exit;\n    }\n  }\n\n  /**\n   * Getter for #launch_data\n   * @return {string}\n   */\n  get launch_data() {\n    return this.#launch_data;\n  }\n\n  /**\n   * Setter for #launch_data. Can only be called before  initialization.\n   * @param {string} launch_data\n   */\n  set launch_data(launch_data) {\n    !this.initialized ? this.#launch_data = launch_data : throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #learner_id\n   * @return {string}\n   */\n  get learner_id() {\n    return this.#learner_id;\n  }\n\n  /**\n   * Setter for #learner_id. Can only be called before  initialization.\n   * @param {string} learner_id\n   */\n  set learner_id(learner_id) {\n    !this.initialized ? this.#learner_id = learner_id : throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #learner_name\n   * @return {string}\n   */\n  get learner_name() {\n    return this.#learner_name;\n  }\n\n  /**\n   * Setter for #learner_name. Can only be called before  initialization.\n   * @param {string} learner_name\n   */\n  set learner_name(learner_name) {\n    !this.initialized ?\n        this.#learner_name = learner_name :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #location\n   * @return {string}\n   */\n  get location() {\n    return this.#location;\n  }\n\n  /**\n   * Setter for #location\n   * @param {string} location\n   */\n  set location(location) {\n    if (check2004ValidFormat(location, scorm2004_regex.CMIString1000)) {\n      this.#location = location;\n    }\n  }\n\n  /**\n   * Getter for #max_time_allowed\n   * @return {string}\n   */\n  get max_time_allowed() {\n    return this.#max_time_allowed;\n  }\n\n  /**\n   * Setter for #max_time_allowed. Can only be called before  initialization.\n   * @param {string} max_time_allowed\n   */\n  set max_time_allowed(max_time_allowed) {\n    !this.initialized ?\n        this.#max_time_allowed = max_time_allowed :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #mode\n   * @return {string}\n   */\n  get mode() {\n    return this.#mode;\n  }\n\n  /**\n   * Setter for #mode. Can only be called before  initialization.\n   * @param {string} mode\n   */\n  set mode(mode) {\n    !this.initialized ? this.#mode = mode : throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #progress_measure\n   * @return {string}\n   */\n  get progress_measure() {\n    return this.#progress_measure;\n  }\n\n  /**\n   * Setter for #progress_measure\n   * @param {string} progress_measure\n   */\n  set progress_measure(progress_measure) {\n    if (check2004ValidFormat(progress_measure, scorm2004_regex.CMIDecimal) &&\n        check2004ValidRange(progress_measure, scorm2004_regex.progress_range)) {\n      this.#progress_measure = progress_measure;\n    }\n  }\n\n  /**\n   * Getter for #scaled_passing_score\n   * @return {string}\n   */\n  get scaled_passing_score() {\n    return this.#scaled_passing_score;\n  }\n\n  /**\n   * Setter for #scaled_passing_score. Can only be called before  initialization.\n   * @param {string} scaled_passing_score\n   */\n  set scaled_passing_score(scaled_passing_score) {\n    !this.initialized ?\n        this.#scaled_passing_score = scaled_passing_score :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #session_time. Should only be called during JSON export.\n   * @return {string}\n   */\n  get session_time() {\n    return (!this.jsonString) ? throwWriteOnlyError() : this.#session_time;\n  }\n\n  /**\n   * Setter for #session_time\n   * @param {string} session_time\n   */\n  set session_time(session_time) {\n    if (check2004ValidFormat(session_time, scorm2004_regex.CMITimespan)) {\n      this.#session_time = session_time;\n    }\n  }\n\n  /**\n   * Getter for #success_status\n   * @return {string}\n   */\n  get success_status() {\n    return this.#success_status;\n  }\n\n  /**\n   * Setter for #success_status\n   * @param {string} success_status\n   */\n  set success_status(success_status) {\n    if (check2004ValidFormat(success_status, scorm2004_regex.CMISStatus)) {\n      this.#success_status = success_status;\n    }\n  }\n\n  /**\n   * Getter for #suspend_data\n   * @return {string}\n   */\n  get suspend_data() {\n    return this.#suspend_data;\n  }\n\n  /**\n   * Setter for #suspend_data\n   * @param {string} suspend_data\n   */\n  set suspend_data(suspend_data) {\n    if (check2004ValidFormat(suspend_data, scorm2004_regex.CMIString64000, true)) {\n      this.#suspend_data = suspend_data;\n    }\n  }\n\n  /**\n   * Getter for #time_limit_action\n   * @return {string}\n   */\n  get time_limit_action() {\n    return this.#time_limit_action;\n  }\n\n  /**\n   * Setter for #time_limit_action. Can only be called before  initialization.\n   * @param {string} time_limit_action\n   */\n  set time_limit_action(time_limit_action) {\n    !this.initialized ?\n        this.#time_limit_action = time_limit_action :\n        throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #total_time\n   * @return {string}\n   */\n  get total_time() {\n    return this.#total_time;\n  }\n\n  /**\n   * Setter for #total_time. Can only be called before  initialization.\n   * @param {string} total_time\n   */\n  set total_time(total_time) {\n    !this.initialized ? this.#total_time = total_time : throwReadOnlyError();\n  }\n\n  /**\n   * Adds the current session time to the existing total time.\n   *\n   * @return {string} ISO8601 Duration\n   */\n  getCurrentTotalTime() {\n    return Util.addTwoDurations(\n        this.#total_time,\n        this.#session_time,\n        scorm2004_regex.CMITimespan,\n    );\n  }\n\n  /**\n   * toJSON for cmi\n   *\n   * @return {\n   *    {\n   *      comments_from_learner: CMICommentsFromLearner,\n   *      comments_from_lms: CMICommentsFromLMS,\n   *      completion_status: string,\n   *      completion_threshold: string,\n   *      credit: string,\n   *      entry: string,\n   *      exit: string,\n   *      interactions: CMIInteractions,\n   *      launch_data: string,\n   *      learner_id: string,\n   *      learner_name: string,\n   *      learner_preference: CMILearnerPreference,\n   *      location: string,\n   *      max_time_allowed: string,\n   *      mode: string,\n   *      objectives: CMIObjectives,\n   *      progress_measure: string,\n   *      scaled_passing_score: string,\n   *      score: Scorm2004CMIScore,\n   *      session_time: string,\n   *      success_status: string,\n   *      suspend_data: string,\n   *      time_limit_action: string\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'comments_from_learner': this.comments_from_learner,\n      'comments_from_lms': this.comments_from_lms,\n      'completion_status': this.completion_status,\n      'completion_threshold': this.completion_threshold,\n      'credit': this.credit,\n      'entry': this.entry,\n      'exit': this.exit,\n      'interactions': this.interactions,\n      'launch_data': this.launch_data,\n      'learner_id': this.learner_id,\n      'learner_name': this.learner_name,\n      'learner_preference': this.learner_preference,\n      'location': this.location,\n      'max_time_allowed': this.max_time_allowed,\n      'mode': this.mode,\n      'objectives': this.objectives,\n      'progress_measure': this.progress_measure,\n      'scaled_passing_score': this.scaled_passing_score,\n      'score': this.score,\n      'session_time': this.session_time,\n      'success_status': this.success_status,\n      'suspend_data': this.suspend_data,\n      'time_limit_action': this.time_limit_action,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class for SCORM 2004's cmi.learner_preference object\n */\nclass CMILearnerPreference extends BaseCMI {\n  #_children = scorm2004_constants.student_preference_children;\n  #audio_level = '1';\n  #language = '';\n  #delivery_speed = '1';\n  #audio_captioning = '0';\n\n  /**\n   * Constructor for cmi.learner_preference\n   */\n  constructor() {\n    super();\n  }\n\n  /**\n   * Getter for #_children\n   * @return {string}\n   * @private\n   */\n  get _children() {\n    return this.#_children;\n  }\n\n  /**\n   * Setter for #_children. Just throws an error.\n   * @param {string} _children\n   * @private\n   */\n  set _children(_children) {\n    throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #audio_level\n   * @return {string}\n   */\n  get audio_level() {\n    return this.#audio_level;\n  }\n\n  /**\n   * Setter for #audio_level\n   * @param {string} audio_level\n   */\n  set audio_level(audio_level) {\n    if (check2004ValidFormat(audio_level, scorm2004_regex.CMIDecimal) &&\n        check2004ValidRange(audio_level, scorm2004_regex.audio_range)) {\n      this.#audio_level = audio_level;\n    }\n  }\n\n  /**\n   * Getter for #language\n   * @return {string}\n   */\n  get language() {\n    return this.#language;\n  }\n\n  /**\n   * Setter for #language\n   * @param {string} language\n   */\n  set language(language) {\n    if (check2004ValidFormat(language, scorm2004_regex.CMILang)) {\n      this.#language = language;\n    }\n  }\n\n  /**\n   * Getter for #delivery_speed\n   * @return {string}\n   */\n  get delivery_speed() {\n    return this.#delivery_speed;\n  }\n\n  /**\n   * Setter for #delivery_speed\n   * @param {string} delivery_speed\n   */\n  set delivery_speed(delivery_speed) {\n    if (check2004ValidFormat(delivery_speed, scorm2004_regex.CMIDecimal) &&\n        check2004ValidRange(delivery_speed, scorm2004_regex.speed_range)) {\n      this.#delivery_speed = delivery_speed;\n    }\n  }\n\n  /**\n   * Getter for #audio_captioning\n   * @return {string}\n   */\n  get audio_captioning() {\n    return this.#audio_captioning;\n  }\n\n  /**\n   * Setter for #audio_captioning\n   * @param {string} audio_captioning\n   */\n  set audio_captioning(audio_captioning) {\n    if (check2004ValidFormat(audio_captioning, scorm2004_regex.CMISInteger) &&\n        check2004ValidRange(audio_captioning, scorm2004_regex.text_range)) {\n      this.#audio_captioning = audio_captioning;\n    }\n  }\n\n  /**\n   * toJSON for cmi.learner_preference\n   *\n   * @return {\n   *    {\n   *      audio_level: string,\n   *      language: string,\n   *      delivery_speed: string,\n   *      audio_captioning: string\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'audio_level': this.audio_level,\n      'language': this.language,\n      'delivery_speed': this.delivery_speed,\n      'audio_captioning': this.audio_captioning,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class representing SCORM 2004's cmi.interactions object\n */\nclass CMIInteractions extends CMIArray {\n  /**\n   * Constructor for cmi.objectives Array\n   */\n  constructor() {\n    super({\n      children: scorm2004_constants.interactions_children,\n      errorCode: scorm2004_error_codes.READ_ONLY_ELEMENT,\n    });\n  }\n}\n\n/**\n * Class representing SCORM 2004's cmi.objectives object\n */\nclass CMIObjectives extends CMIArray {\n  /**\n   * Constructor for cmi.objectives Array\n   */\n  constructor() {\n    super({\n      children: scorm2004_constants.objectives_children,\n      errorCode: scorm2004_error_codes.READ_ONLY_ELEMENT,\n    });\n  }\n}\n\n/**\n * Class representing SCORM 2004's cmi.comments_from_lms object\n */\nclass CMICommentsFromLMS extends CMIArray {\n  /**\n   * Constructor for cmi.comments_from_lms Array\n   */\n  constructor() {\n    super({\n      children: scorm2004_constants.comments_children,\n      errorCode: scorm2004_error_codes.READ_ONLY_ELEMENT,\n    });\n  }\n}\n\n/**\n * Class representing SCORM 2004's cmi.comments_from_learner object\n */\nclass CMICommentsFromLearner extends CMIArray {\n  /**\n   * Constructor for cmi.comments_from_learner Array\n   */\n  constructor() {\n    super({\n      children: scorm2004_constants.comments_children,\n      errorCode: scorm2004_error_codes.READ_ONLY_ELEMENT,\n    });\n  }\n}\n\n/**\n * Class for SCORM 2004's cmi.interaction.n object\n */\nexport class CMIInteractionsObject extends BaseCMI {\n  #id = '';\n  #type = '';\n  #timestamp = '';\n  #weighting = '';\n  #learner_response = '';\n  #result = '';\n  #latency = '';\n  #description = '';\n\n  /**\n   * Constructor for cmi.interaction.n\n   */\n  constructor() {\n    super();\n\n    this.objectives = new CMIArray({\n      errorCode: scorm2004_error_codes.READ_ONLY_ELEMENT,\n      children: scorm2004_constants.objectives_children,\n    });\n    this.correct_responses = new CMIArray({\n      errorCode: scorm2004_error_codes.READ_ONLY_ELEMENT,\n      children: scorm2004_constants.correct_responses_children,\n    });\n  }\n\n  /**\n   * Called when the API has been initialized after the CMI has been created\n   */\n  initialize() {\n    super.initialize();\n    this.objectives?.initialize();\n    this.correct_responses?.initialize();\n  }\n\n  /**\n   * Getter for #id\n   * @return {string}\n   */\n  get id() {\n    return this.#id;\n  }\n\n  /**\n   * Setter for #id\n   * @param {string} id\n   */\n  set id(id) {\n    if (check2004ValidFormat(id, scorm2004_regex.CMILongIdentifier)) {\n      this.#id = id;\n    }\n  }\n\n  /**\n   * Getter for #type\n   * @return {string}\n   */\n  get type() {\n    return this.#type;\n  }\n\n  /**\n   * Setter for #type\n   * @param {string} type\n   */\n  set type(type) {\n    if (check2004ValidFormat(type, scorm2004_regex.CMIType)) {\n      this.#type = type;\n    }\n  }\n\n  /**\n   * Getter for #timestamp\n   * @return {string}\n   */\n  get timestamp() {\n    return this.#timestamp;\n  }\n\n  /**\n   * Setter for #timestamp\n   * @param {string} timestamp\n   */\n  set timestamp(timestamp) {\n    if (check2004ValidFormat(timestamp, scorm2004_regex.CMITime)) {\n      this.#timestamp = timestamp;\n    }\n  }\n\n  /**\n   * Getter for #weighting\n   * @return {string}\n   */\n  get weighting() {\n    return this.#weighting;\n  }\n\n  /**\n   * Setter for #weighting\n   * @param {string} weighting\n   */\n  set weighting(weighting) {\n    if (check2004ValidFormat(weighting, scorm2004_regex.CMIDecimal)) {\n      this.#weighting = weighting;\n    }\n  }\n\n  /**\n   * Getter for #learner_response\n   * @return {string}\n   */\n  get learner_response() {\n    return this.#learner_response;\n  }\n\n  /**\n   * Setter for #learner_response. Does type validation to make sure response\n   * matches SCORM 2004's spec\n   * @param {string} learner_response\n   */\n  set learner_response(learner_response) {\n    if (typeof this.type === 'undefined') {\n      throw new ValidationError(\n          scorm2004_error_codes.DEPENDENCY_NOT_ESTABLISHED);\n    } else {\n      let nodes = [];\n      const response_type = learner_responses[this.type];\n      if (response_type) {\n        if (response_type?.delimiter) {\n          nodes = learner_response.split(response_type.delimiter);\n        } else {\n          nodes[0] = learner_response;\n        }\n\n        if ((nodes.length > 0) && (nodes.length <= response_type.max)) {\n          const formatRegex = new RegExp(response_type.format);\n          for (let i = 0; i < nodes.length; i++) {\n            if (response_type?.delimiter2) {\n              const values = nodes[i].split(response_type.delimiter2);\n              if (values.length === 2) {\n                if (!values[0].match(formatRegex)) {\n                  throwTypeMismatchError();\n                } else {\n                  if (!values[1].match(new RegExp(response_type.format2))) {\n                    throwTypeMismatchError();\n                  }\n                }\n              } else {\n                throwTypeMismatchError();\n              }\n            } else {\n              if (!nodes[i].match(formatRegex)) {\n                throwTypeMismatchError();\n              } else {\n                if (nodes[i] !== '' && response_type.unique) {\n                  for (let j = 0; j < i; j++) {\n                    if (nodes[i] === nodes[j]) {\n                      throwTypeMismatchError();\n                    }\n                  }\n                }\n              }\n            }\n          }\n        } else {\n          throw new ValidationError(scorm2004_error_codes.GENERAL_SET_FAILURE);\n        }\n      } else {\n        throw new ValidationError(scorm2004_error_codes.TYPE_MISMATCH);\n      }\n    }\n  }\n\n  /**\n   * Getter for #result\n   * @return {string}\n   */\n  get result() {\n    return this.#result;\n  }\n\n  /**\n   * Setter for #result\n   * @param {string} result\n   */\n  set result(result) {\n    if (check2004ValidFormat(result, scorm2004_regex.CMIResult)) {\n      this.#result = result;\n    }\n  }\n\n  /**\n   * Getter for #latency\n   * @return {string}\n   */\n  get latency() {\n    return this.#latency;\n  }\n\n  /**\n   * Setter for #latency\n   * @param {string} latency\n   */\n  set latency(latency) {\n    if (check2004ValidFormat(latency, scorm2004_regex.CMITimespan)) {\n      this.#latency = latency;\n    }\n  }\n\n  /**\n   * Getter for #description\n   * @return {string}\n   */\n  get description() {\n    return this.#description;\n  }\n\n  /**\n   * Setter for #description\n   * @param {string} description\n   */\n  set description(description) {\n    if (check2004ValidFormat(description, scorm2004_regex.CMILangString250, true)) {\n      this.#description = description;\n    }\n  }\n\n  /**\n   * toJSON for cmi.interactions.n\n   *\n   * @return {\n   *    {\n   *      id: string,\n   *      type: string,\n   *      objectives: CMIArray,\n   *      timestamp: string,\n   *      correct_responses: CMIArray,\n   *      weighting: string,\n   *      learner_response: string,\n   *      result: string,\n   *      latency: string,\n   *      description: string\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'id': this.id,\n      'type': this.type,\n      'objectives': this.objectives,\n      'timestamp': this.timestamp,\n      'weighting': this.weighting,\n      'learner_response': this.learner_response,\n      'result': this.result,\n      'latency': this.latency,\n      'description': this.description,\n      'correct_responses': this.correct_responses,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class for SCORM 2004's cmi.objectives.n object\n */\nexport class CMIObjectivesObject extends BaseCMI {\n  #id = '';\n  #success_status = 'unknown';\n  #completion_status = 'unknown';\n  #progress_measure = '';\n  #description = '';\n\n  /**\n   * Constructor for cmi.objectives.n\n   */\n  constructor() {\n    super();\n\n    this.score = new Scorm2004CMIScore();\n  }\n\n  /**\n   * Called when the API has been initialized after the CMI has been created\n   */\n  initialize() {\n    super.initialize();\n    this.score?.initialize();\n  }\n\n  /**\n   * Getter for #id\n   * @return {string}\n   */\n  get id() {\n    return this.#id;\n  }\n\n  /**\n   * Setter for #id\n   * @param {string} id\n   */\n  set id(id) {\n    if (check2004ValidFormat(id, scorm2004_regex.CMILongIdentifier)) {\n      this.#id = id;\n    }\n  }\n\n  /**\n   * Getter for #success_status\n   * @return {string}\n   */\n  get success_status() {\n    return this.#success_status;\n  }\n\n  /**\n   * Setter for #success_status\n   * @param {string} success_status\n   */\n  set success_status(success_status) {\n    if (check2004ValidFormat(success_status, scorm2004_regex.CMISStatus)) {\n      this.#success_status = success_status;\n    }\n  }\n\n  /**\n   * Getter for #completion_status\n   * @return {string}\n   */\n  get completion_status() {\n    return this.#completion_status;\n  }\n\n  /**\n   * Setter for #completion_status\n   * @param {string} completion_status\n   */\n  set completion_status(completion_status) {\n    if (check2004ValidFormat(completion_status, scorm2004_regex.CMICStatus)) {\n      this.#completion_status = completion_status;\n    }\n  }\n\n  /**\n   * Getter for #progress_measure\n   * @return {string}\n   */\n  get progress_measure() {\n    return this.#progress_measure;\n  }\n\n  /**\n   * Setter for #progress_measure\n   * @param {string} progress_measure\n   */\n  set progress_measure(progress_measure) {\n    if (check2004ValidFormat(progress_measure, scorm2004_regex.CMIDecimal) &&\n        check2004ValidRange(progress_measure, scorm2004_regex.progress_range)) {\n      this.#progress_measure = progress_measure;\n    }\n  }\n\n  /**\n   * Getter for #description\n   * @return {string}\n   */\n  get description() {\n    return this.#description;\n  }\n\n  /**\n   * Setter for #description\n   * @param {string} description\n   */\n  set description(description) {\n    if (check2004ValidFormat(description, scorm2004_regex.CMILangString250, true)) {\n      this.#description = description;\n    }\n  }\n\n  /**\n   * toJSON for cmi.objectives.n\n   *\n   * @return {\n   *    {\n   *      id: string,\n   *      success_status: string,\n   *      completion_status: string,\n   *      progress_measure: string,\n   *      description: string,\n   *      score: Scorm2004CMIScore\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'id': this.id,\n      'success_status': this.success_status,\n      'completion_status': this.completion_status,\n      'progress_measure': this.progress_measure,\n      'description': this.description,\n      'score': this.score,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class for SCORM 2004's cmi *.score object\n */\nclass Scorm2004CMIScore extends CMIScore {\n  #scaled = '';\n\n  /**\n   * Constructor for cmi *.score\n   */\n  constructor() {\n    super(\n        {\n          score_children: scorm2004_constants.score_children,\n          max: '',\n          invalidErrorCode: scorm2004_error_codes.READ_ONLY_ELEMENT,\n          invalidTypeCode: scorm2004_error_codes.TYPE_MISMATCH,\n          invalidRangeCode: scorm2004_error_codes.VALUE_OUT_OF_RANGE,\n          decimalRegex: scorm2004_regex.CMIDecimal,\n        });\n  }\n\n  /**\n   * Getter for #scaled\n   * @return {string}\n   */\n  get scaled() {\n    return this.#scaled;\n  }\n\n  /**\n   * Setter for #scaled\n   * @param {string} scaled\n   */\n  set scaled(scaled) {\n    if (check2004ValidFormat(scaled, scorm2004_regex.CMIDecimal) &&\n        check2004ValidRange(scaled, scorm2004_regex.scaled_range)) {\n      this.#scaled = scaled;\n    }\n  }\n\n  /**\n   * toJSON for cmi *.score\n   *\n   * @return {\n   *    {\n   *      scaled: string,\n   *      raw: string,\n   *      min: string,\n   *      max: string\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'scaled': this.scaled,\n      'raw': super.raw,\n      'min': super.min,\n      'max': super.max,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class representing SCORM 2004's cmi.comments_from_learner.n and cmi.comments_from_lms.n object\n */\nexport class CMICommentsObject extends BaseCMI {\n  #comment = '';\n  #location = '';\n  #timestamp = '';\n  #readOnlyAfterInit;\n\n  /**\n   * Constructor for cmi.comments_from_learner.n and cmi.comments_from_lms.n\n   * @param {boolean} readOnlyAfterInit\n   */\n  constructor(readOnlyAfterInit = false) {\n    super();\n    this.#comment = '';\n    this.#location = '';\n    this.#timestamp = '';\n    this.#readOnlyAfterInit = readOnlyAfterInit;\n  }\n\n  /**\n   * Getter for #comment\n   * @return {string}\n   */\n  get comment() {\n    return this.#comment;\n  }\n\n  /**\n   * Setter for #comment\n   * @param {string} comment\n   */\n  set comment(comment) {\n    if (this.initialized && this.#readOnlyAfterInit) {\n      throwReadOnlyError();\n    } else {\n      if (check2004ValidFormat(comment, scorm2004_regex.CMILangString4000, true)) {\n        this.#comment = comment;\n      }\n    }\n  }\n\n  /**\n   * Getter for #location\n   * @return {string}\n   */\n  get location() {\n    return this.#location;\n  }\n\n  /**\n   * Setter for #location\n   * @param {string} location\n   */\n  set location(location) {\n    if (this.initialized && this.#readOnlyAfterInit) {\n      throwReadOnlyError();\n    } else {\n      if (check2004ValidFormat(location, scorm2004_regex.CMIString250)) {\n        this.#location = location;\n      }\n    }\n  }\n\n  /**\n   * Getter for #timestamp\n   * @return {string}\n   */\n  get timestamp() {\n    return this.#timestamp;\n  }\n\n  /**\n   * Setter for #timestamp\n   * @param {string} timestamp\n   */\n  set timestamp(timestamp) {\n    if (this.initialized && this.#readOnlyAfterInit) {\n      throwReadOnlyError();\n    } else {\n      if (check2004ValidFormat(timestamp, scorm2004_regex.CMITime)) {\n        this.#timestamp = timestamp;\n      }\n    }\n  }\n\n  /**\n   * toJSON for cmi.comments_from_learner.n object\n   * @return {\n   *    {\n   *      comment: string,\n   *      location: string,\n   *      timestamp: string\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'comment': this.comment,\n      'location': this.location,\n      'timestamp': this.timestamp,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class representing SCORM 2004's cmi.interactions.n.objectives.n object\n */\nexport class CMIInteractionsObjectivesObject extends BaseCMI {\n  #id = '';\n\n  /**\n   * Constructor for cmi.interactions.n.objectives.n\n   */\n  constructor() {\n    super();\n  }\n\n  /**\n   * Getter for #id\n   * @return {string}\n   */\n  get id() {\n    return this.#id;\n  }\n\n  /**\n   * Setter for #id\n   * @param {string} id\n   */\n  set id(id) {\n    if (check2004ValidFormat(id, scorm2004_regex.CMILongIdentifier)) {\n      this.#id = id;\n    }\n  }\n\n  /**\n   * toJSON for cmi.interactions.n.objectives.n\n   * @return {\n   *    {\n   *      id: string\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'id': this.id,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class representing SCORM 2004's cmi.interactions.n.correct_responses.n object\n */\nexport class CMIInteractionsCorrectResponsesObject extends BaseCMI {\n  #pattern = '';\n\n  /**\n   * Constructor for cmi.interactions.n.correct_responses.n\n   */\n  constructor() {\n    super();\n  }\n\n  /**\n   * Getter for #pattern\n   * @return {string}\n   */\n  get pattern() {\n    return this.#pattern;\n  }\n\n  /**\n   * Setter for #pattern\n   * @param {string} pattern\n   */\n  set pattern(pattern) {\n    if (check2004ValidFormat(pattern, scorm2004_regex.CMIFeedback)) {\n      this.#pattern = pattern;\n    }\n  }\n\n  /**\n   * toJSON cmi.interactions.n.correct_responses.n object\n   * @return {\n   *    {\n   *      pattern: string\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'pattern': this.pattern,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class representing SCORM 2004's adl object\n */\nexport class ADL extends BaseCMI {\n  /**\n   * Constructor for adl\n   */\n  constructor() {\n    super();\n\n    this.nav = new ADLNav();\n  }\n\n  /**\n   * Called when the API has been initialized after the CMI has been created\n   */\n  initialize() {\n    super.initialize();\n    this.nav?.initialize();\n  }\n\n  /**\n   * toJSON for adl\n   * @return {\n   *    {\n   *      nav: {\n   *        request: string\n   *      }\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'nav': this.nav,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class representing SCORM 2004's adl.nav object\n */\nclass ADLNav extends BaseCMI {\n  #request = '_none_';\n\n  /**\n   * Constructor for adl.nav\n   */\n  constructor() {\n    super();\n\n    this.request_valid = new ADLNavRequestValid();\n  }\n\n  /**\n   * Called when the API has been initialized after the CMI has been created\n   */\n  initialize() {\n    super.initialize();\n    this.request_valid?.initialize();\n  }\n\n  /**\n   * Getter for #request\n   * @return {string}\n   */\n  get request() {\n    return this.#request;\n  }\n\n  /**\n   * Setter for #request\n   * @param {string} request\n   */\n  set request(request) {\n    if (check2004ValidFormat(request, scorm2004_regex.NAVEvent)) {\n      this.#request = request;\n    }\n  }\n\n  /**\n   * toJSON for adl.nav\n   *\n   * @return {\n   *    {\n   *      request: string\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'request': this.request,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n\n/**\n * Class representing SCORM 2004's adl.nav.request_valid object\n */\nclass ADLNavRequestValid extends BaseCMI {\n  #continue = 'unknown';\n  #previous = 'unknown';\n  choice = class {\n    /**\n     * Check if target is valid\n     * @param {*} _target\n     * @return {string}\n     */\n    _isTargetValid = (_target) => 'unknown';\n  };\n  jump = class {\n    /**\n     * Check if target is valid\n     * @param {*} _target\n     * @return {string}\n     */\n    _isTargetValid = (_target) => 'unknown';\n  };\n\n  /**\n   * Constructor for adl.nav.request_valid\n   */\n  constructor() {\n    super();\n  }\n\n  /**\n   * Getter for #continue\n   * @return {string}\n   */\n  get continue() {\n    return this.#continue;\n  }\n\n  /**\n   * Setter for #continue. Just throws an error.\n   * @param {*} _\n   */\n  set continue(_) {\n    throwReadOnlyError();\n  }\n\n  /**\n   * Getter for #previous\n   * @return {string}\n   */\n  get previous() {\n    return this.#previous;\n  }\n\n  /**\n   * Setter for #previous. Just throws an error.\n   * @param {*} _\n   */\n  set previous(_) {\n    throwReadOnlyError();\n  }\n\n  /**\n   * toJSON for adl.nav.request_valid\n   *\n   * @return {\n   *    {\n   *      previous: string,\n   *      continue: string\n   *    }\n   *  }\n   */\n  toJSON() {\n    this.jsonString = true;\n    const result = {\n      'previous': this.previous,\n      'continue': this.continue,\n    };\n    delete this.jsonString;\n    return result;\n  }\n}\n","// @flow\n\nconst global = {\n  SCORM_TRUE: 'true',\n  SCORM_FALSE: 'false',\n  STATE_NOT_INITIALIZED: 0,\n  STATE_INITIALIZED: 1,\n  STATE_TERMINATED: 2,\n  LOG_LEVEL_DEBUG: 1,\n  LOG_LEVEL_INFO: 2,\n  LOG_LEVEL_WARNING: 3,\n  LOG_LEVEL_ERROR: 4,\n  LOG_LEVEL_NONE: 5,\n};\n\nconst scorm12 = {\n  // Children lists\n  cmi_children: 'core,suspend_data,launch_data,comments,objectives,student_data,student_preference,interactions',\n  core_children: 'student_id,student_name,lesson_location,credit,lesson_status,entry,score,total_time,lesson_mode,exit,session_time',\n  score_children: 'raw,min,max',\n  comments_children: 'content,location,time',\n  objectives_children: 'id,score,status',\n  correct_responses_children: 'pattern',\n  student_data_children: 'mastery_score,max_time_allowed,time_limit_action',\n  student_preference_children: 'audio,language,speed,text',\n  interactions_children: 'id,objectives,time,type,correct_responses,weighting,student_response,result,latency',\n\n  error_descriptions: {\n    '101': {\n      basicMessage: 'General Exception',\n      detailMessage: 'No specific error code exists to describe the error. Use LMSGetDiagnostic for more information',\n    },\n    '201': {\n      basicMessage: 'Invalid argument error',\n      detailMessage: 'Indicates that an argument represents an invalid data model element or is otherwise incorrect.',\n    },\n    '202': {\n      basicMessage: 'Element cannot have children',\n      detailMessage: 'Indicates that LMSGetValue was called with a data model element name that ends in \"_children\" for a data model element that does not support the \"_children\" suffix.',\n    },\n    '203': {\n      basicMessage: 'Element not an array - cannot have count',\n      detailMessage: 'Indicates that LMSGetValue was called with a data model element name that ends in \"_count\" for a data model element that does not support the \"_count\" suffix.',\n    },\n    '301': {\n      basicMessage: 'Not initialized',\n      detailMessage: 'Indicates that an API call was made before the call to lmsInitialize.',\n    },\n    '401': {\n      basicMessage: 'Not implemented error',\n      detailMessage: 'The data model element indicated in a call to LMSGetValue or LMSSetValue is valid, but was not implemented by this LMS. SCORM 1.2 defines a set of data model elements as being optional for an LMS to implement.',\n    },\n    '402': {\n      basicMessage: 'Invalid set value, element is a keyword',\n      detailMessage: 'Indicates that LMSSetValue was called on a data model element that represents a keyword (elements that end in \"_children\" and \"_count\").',\n    },\n    '403': {\n      basicMessage: 'Element is read only',\n      detailMessage: 'LMSSetValue was called with a data model element that can only be read.',\n    },\n    '404': {\n      basicMessage: 'Element is write only',\n      detailMessage: 'LMSGetValue was called on a data model element that can only be written to.',\n    },\n    '405': {\n      basicMessage: 'Incorrect Data Type',\n      detailMessage: 'LMSSetValue was called with a value that is not consistent with the data format of the supplied data model element.',\n    },\n  },\n};\n\nconst aicc = {\n  ...scorm12, ...{\n    cmi_children: 'core,suspend_data,launch_data,comments,objectives,student_data,student_preference,interactions,evaluation',\n    student_preference_children: 'audio,language,lesson_type,speed,text,text_color,text_location,text_size,video,windows',\n    student_data_children: 'attempt_number,tries,mastery_score,max_time_allowed,time_limit_action',\n    student_demographics_children: 'city,class,company,country,experience,familiar_name,instructor_name,title,native_language,state,street_address,telephone,years_experience',\n    tries_children: 'time,status,score',\n    attempt_records_children: 'score,lesson_status',\n    paths_children: 'location_id,date,time,status,why_left,time_in_element',\n  },\n};\n\nconst scorm2004 = {\n  // Children lists\n  cmi_children: '_version,comments_from_learner,comments_from_lms,completion_status,credit,entry,exit,interactions,launch_data,learner_id,learner_name,learner_preference,location,max_time_allowed,mode,objectives,progress_measure,scaled_passing_score,score,session_time,success_status,suspend_data,time_limit_action,total_time',\n  comments_children: 'comment,timestamp,location',\n  score_children: 'max,raw,scaled,min',\n  objectives_children: 'progress_measure,completion_status,success_status,description,score,id',\n  correct_responses_children: 'pattern',\n  student_data_children: 'mastery_score,max_time_allowed,time_limit_action',\n  student_preference_children: 'audio_level,audio_captioning,delivery_speed,language',\n  interactions_children: 'id,type,objectives,timestamp,correct_responses,weighting,learner_response,result,latency,description',\n\n  error_descriptions: {\n    '0': {\n      basicMessage: 'No Error',\n      detailMessage: 'No error occurred, the previous API call was successful.',\n    },\n    '101': {\n      basicMessage: 'General Exception',\n      detailMessage: 'No specific error code exists to describe the error. Use GetDiagnostic for more information.',\n    },\n    '102': {\n      basicMessage: 'General Initialization Failure',\n      detailMessage: 'Call to Initialize failed for an unknown reason.',\n    },\n    '103': {\n      basicMessage: 'Already Initialized',\n      detailMessage: 'Call to Initialize failed because Initialize was already called.',\n    },\n    '104': {\n      basicMessage: 'Content Instance Terminated',\n      detailMessage: 'Call to Initialize failed because Terminate was already called.',\n    },\n    '111': {\n      basicMessage: 'General Termination Failure',\n      detailMessage: 'Call to Terminate failed for an unknown reason.',\n    },\n    '112': {\n      basicMessage: 'Termination Before Initialization',\n      detailMessage: 'Call to Terminate failed because it was made before the call to Initialize.',\n    },\n    '113': {\n      basicMessage: 'Termination After Termination',\n      detailMessage: 'Call to Terminate failed because Terminate was already called.',\n    },\n    '122': {\n      basicMessage: 'Retrieve Data Before Initialization',\n      detailMessage: 'Call to GetValue failed because it was made before the call to Initialize.',\n    },\n    '123': {\n      basicMessage: 'Retrieve Data After Termination',\n      detailMessage: 'Call to GetValue failed because it was made after the call to Terminate.',\n    },\n    '132': {\n      basicMessage: 'Store Data Before Initialization',\n      detailMessage: 'Call to SetValue failed because it was made before the call to Initialize.',\n    },\n    '133': {\n      basicMessage: 'Store Data After Termination',\n      detailMessage: 'Call to SetValue failed because it was made after the call to Terminate.',\n    },\n    '142': {\n      basicMessage: 'Commit Before Initialization',\n      detailMessage: 'Call to Commit failed because it was made before the call to Initialize.',\n    },\n    '143': {\n      basicMessage: 'Commit After Termination',\n      detailMessage: 'Call to Commit failed because it was made after the call to Terminate.',\n    },\n    '201': {\n      basicMessage: 'General Argument Error',\n      detailMessage: 'An invalid argument was passed to an API method (usually indicates that Initialize, Commit or Terminate did not receive the expected empty string argument.',\n    },\n    '301': {\n      basicMessage: 'General Get Failure',\n      detailMessage: 'Indicates a failed GetValue call where no other specific error code is applicable. Use GetDiagnostic for more information.',\n    },\n    '351': {\n      basicMessage: 'General Set Failure',\n      detailMessage: 'Indicates a failed SetValue call where no other specific error code is applicable. Use GetDiagnostic for more information.',\n    },\n    '391': {\n      basicMessage: 'General Commit Failure',\n      detailMessage: 'Indicates a failed Commit call where no other specific error code is applicable. Use GetDiagnostic for more information.',\n    },\n    '401': {\n      basicMessage: 'Undefined Data Model Element',\n      detailMessage: 'The data model element name passed to GetValue or SetValue is not a valid SCORM data model element.',\n    },\n    '402': {\n      basicMessage: 'Unimplemented Data Model Element',\n      detailMessage: 'The data model element indicated in a call to GetValue or SetValue is valid, but was not implemented by this LMS. In SCORM 2004, this error would indicate an LMS that is not fully SCORM conformant.',\n    },\n    '403': {\n      basicMessage: 'Data Model Element Value Not Initialized',\n      detailMessage: 'Attempt to read a data model element that has not been initialized by the LMS or through a SetValue call. This error condition is often reached during normal execution of a SCO.',\n    },\n    '404': {\n      basicMessage: 'Data Model Element Is Read Only',\n      detailMessage: 'SetValue was called with a data model element that can only be read.',\n    },\n    '405': {\n      basicMessage: 'Data Model Element Is Write Only',\n      detailMessage: 'GetValue was called on a data model element that can only be written to.',\n    },\n    '406': {\n      basicMessage: 'Data Model Element Type Mismatch',\n      detailMessage: 'SetValue was called with a value that is not consistent with the data format of the supplied data model element.',\n    },\n    '407': {\n      basicMessage: 'Data Model Element Value Out Of Range',\n      detailMessage: 'The numeric value supplied to a SetValue call is outside of the numeric range allowed for the supplied data model element.',\n    },\n    '408': {\n      basicMessage: 'Data Model Dependency Not Established',\n      detailMessage: 'Some data model elements cannot be set until another data model element was set. This error condition indicates that the prerequisite element was not set before the dependent element.',\n    },\n  },\n};\n\nconst APIConstants = {\n  global: global,\n  scorm12: scorm12,\n  aicc: aicc,\n  scorm2004: scorm2004,\n};\n\nexport default APIConstants;\n","// @flow\nconst global = {\n  GENERAL: 101,\n  INITIALIZATION_FAILED: 101,\n  INITIALIZED: 101,\n  TERMINATED: 101,\n  TERMINATION_FAILURE: 101,\n  TERMINATION_BEFORE_INIT: 101,\n  MULTIPLE_TERMINATION: 101,\n  RETRIEVE_BEFORE_INIT: 101,\n  RETRIEVE_AFTER_TERM: 101,\n  STORE_BEFORE_INIT: 101,\n  STORE_AFTER_TERM: 101,\n  COMMIT_BEFORE_INIT: 101,\n  COMMIT_AFTER_TERM: 101,\n  ARGUMENT_ERROR: 101,\n  CHILDREN_ERROR: 101,\n  COUNT_ERROR: 101,\n  GENERAL_GET_FAILURE: 101,\n  GENERAL_SET_FAILURE: 101,\n  GENERAL_COMMIT_FAILURE: 101,\n  UNDEFINED_DATA_MODEL: 101,\n  UNIMPLEMENTED_ELEMENT: 101,\n  VALUE_NOT_INITIALIZED: 101,\n  INVALID_SET_VALUE: 101,\n  READ_ONLY_ELEMENT: 101,\n  WRITE_ONLY_ELEMENT: 101,\n  TYPE_MISMATCH: 101,\n  VALUE_OUT_OF_RANGE: 101,\n  DEPENDENCY_NOT_ESTABLISHED: 101,\n};\n\nconst scorm12 = {\n  ...global, ...{\n    RETRIEVE_BEFORE_INIT: 301,\n    STORE_BEFORE_INIT: 301,\n    COMMIT_BEFORE_INIT: 301,\n    ARGUMENT_ERROR: 201,\n    CHILDREN_ERROR: 202,\n    COUNT_ERROR: 203,\n    UNDEFINED_DATA_MODEL: 401,\n    UNIMPLEMENTED_ELEMENT: 401,\n    VALUE_NOT_INITIALIZED: 301,\n    INVALID_SET_VALUE: 402,\n    READ_ONLY_ELEMENT: 403,\n    WRITE_ONLY_ELEMENT: 404,\n    TYPE_MISMATCH: 405,\n    VALUE_OUT_OF_RANGE: 407,\n    DEPENDENCY_NOT_ESTABLISHED: 408,\n  },\n};\n\nconst scorm2004 = {\n  ...global, ...{\n    INITIALIZATION_FAILED: 102,\n    INITIALIZED: 103,\n    TERMINATED: 104,\n    TERMINATION_FAILURE: 111,\n    TERMINATION_BEFORE_INIT: 112,\n    MULTIPLE_TERMINATIONS: 113,\n    RETRIEVE_BEFORE_INIT: 122,\n    RETRIEVE_AFTER_TERM: 123,\n    STORE_BEFORE_INIT: 132,\n    STORE_AFTER_TERM: 133,\n    COMMIT_BEFORE_INIT: 142,\n    COMMIT_AFTER_TERM: 143,\n    ARGUMENT_ERROR: 201,\n    GENERAL_GET_FAILURE: 301,\n    GENERAL_SET_FAILURE: 351,\n    GENERAL_COMMIT_FAILURE: 391,\n    UNDEFINED_DATA_MODEL: 401,\n    UNIMPLEMENTED_ELEMENT: 402,\n    VALUE_NOT_INITIALIZED: 403,\n    READ_ONLY_ELEMENT: 404,\n    WRITE_ONLY_ELEMENT: 405,\n    TYPE_MISMATCH: 406,\n    VALUE_OUT_OF_RANGE: 407,\n    DEPENDENCY_NOT_ESTABLISHED: 408,\n  },\n};\n\nconst ErrorCodes = {\n  scorm12: scorm12,\n  scorm2004: scorm2004,\n};\n\nexport default ErrorCodes;\n","const ValidLanguages = {\n  'aa': 'aa', 'ab': 'ab', 'ae': 'ae', 'af': 'af', 'ak': 'ak', 'am': 'am',\n  'an': 'an', 'ar': 'ar', 'as': 'as', 'av': 'av', 'ay': 'ay', 'az': 'az',\n  'ba': 'ba', 'be': 'be', 'bg': 'bg', 'bh': 'bh', 'bi': 'bi', 'bm': 'bm',\n  'bn': 'bn', 'bo': 'bo', 'br': 'br', 'bs': 'bs', 'ca': 'ca', 'ce': 'ce',\n  'ch': 'ch', 'co': 'co', 'cr': 'cr', 'cs': 'cs', 'cu': 'cu', 'cv': 'cv',\n  'cy': 'cy', 'da': 'da', 'de': 'de', 'dv': 'dv', 'dz': 'dz', 'ee': 'ee',\n  'el': 'el', 'en': 'en', 'eo': 'eo', 'es': 'es', 'et': 'et', 'eu': 'eu',\n  'fa': 'fa', 'ff': 'ff', 'fi': 'fi', 'fj': 'fj', 'fo': 'fo', 'fr': 'fr',\n  'fy': 'fy', 'ga': 'ga', 'gd': 'gd', 'gl': 'gl', 'gn': 'gn', 'gu': 'gu',\n  'gv': 'gv', 'ha': 'ha', 'he': 'he', 'hi': 'hi', 'ho': 'ho', 'hr': 'hr',\n  'ht': 'ht', 'hu': 'hu', 'hy': 'hy', 'hz': 'hz', 'ia': 'ia', 'id': 'id',\n  'ie': 'ie', 'ig': 'ig', 'ii': 'ii', 'ik': 'ik', 'io': 'io', 'is': 'is',\n  'it': 'it', 'iu': 'iu', 'ja': 'ja', 'jv': 'jv', 'ka': 'ka', 'kg': 'kg',\n  'ki': 'ki', 'kj': 'kj', 'kk': 'kk', 'kl': 'kl', 'km': 'km', 'kn': 'kn',\n  'ko': 'ko', 'kr': 'kr', 'ks': 'ks', 'ku': 'ku', 'kv': 'kv', 'kw': 'kw',\n  'ky': 'ky', 'la': 'la', 'lb': 'lb', 'lg': 'lg', 'li': 'li', 'ln': 'ln',\n  'lo': 'lo', 'lt': 'lt', 'lu': 'lu', 'lv': 'lv', 'mg': 'mg', 'mh': 'mh',\n  'mi': 'mi', 'mk': 'mk', 'ml': 'ml', 'mn': 'mn', 'mo': 'mo', 'mr': 'mr',\n  'ms': 'ms', 'mt': 'mt', 'my': 'my', 'na': 'na', 'nb': 'nb', 'nd': 'nd',\n  'ne': 'ne', 'ng': 'ng', 'nl': 'nl', 'nn': 'nn', 'no': 'no', 'nr': 'nr',\n  'nv': 'nv', 'ny': 'ny', 'oc': 'oc', 'oj': 'oj', 'om': 'om', 'or': 'or',\n  'os': 'os', 'pa': 'pa', 'pi': 'pi', 'pl': 'pl', 'ps': 'ps', 'pt': 'pt',\n  'qu': 'qu', 'rm': 'rm', 'rn': 'rn', 'ro': 'ro', 'ru': 'ru', 'rw': 'rw',\n  'sa': 'sa', 'sc': 'sc', 'sd': 'sd', 'se': 'se', 'sg': 'sg', 'sh': 'sh',\n  'si': 'si', 'sk': 'sk', 'sl': 'sl', 'sm': 'sm', 'sn': 'sn', 'so': 'so',\n  'sq': 'sq', 'sr': 'sr', 'ss': 'ss', 'st': 'st', 'su': 'su', 'sv': 'sv',\n  'sw': 'sw', 'ta': 'ta', 'te': 'te', 'tg': 'tg', 'th': 'th', 'ti': 'ti',\n  'tk': 'tk', 'tl': 'tl', 'tn': 'tn', 'to': 'to', 'tr': 'tr', 'ts': 'ts',\n  'tt': 'tt', 'tw': 'tw', 'ty': 'ty', 'ug': 'ug', 'uk': 'uk', 'ur': 'ur',\n  'uz': 'uz', 've': 've', 'vi': 'vi', 'vo': 'vo', 'wa': 'wa', 'wo': 'wo',\n  'xh': 'xh', 'yi': 'yi', 'yo': 'yo', 'za': 'za', 'zh': 'zh', 'zu': 'zu',\n  'aar': 'aar', 'abk': 'abk', 'ave': 'ave', 'afr': 'afr', 'aka': 'aka',\n  'amh': 'amh', 'arg': 'arg', 'ara': 'ara', 'asm': 'asm', 'ava': 'ava',\n  'aym': 'aym', 'aze': 'aze', 'bak': 'bak', 'bel': 'bel', 'bul': 'bul',\n  'bih': 'bih', 'bis': 'bis', 'bam': 'bam', 'ben': 'ben', 'tib': 'tib',\n  'bod': 'bod', 'bre': 'bre', 'bos': 'bos', 'cat': 'cat', 'che': 'che',\n  'cha': 'cha', 'cos': 'cos', 'cre': 'cre', 'cze': 'cze', 'ces': 'ces',\n  'chu': 'chu', 'chv': 'chv', 'wel': 'wel', 'cym': 'cym', 'dan': 'dan',\n  'ger': 'ger', 'deu': 'deu', 'div': 'div', 'dzo': 'dzo', 'ewe': 'ewe',\n  'gre': 'gre', 'ell': 'ell', 'eng': 'eng', 'epo': 'epo', 'spa': 'spa',\n  'est': 'est', 'baq': 'baq', 'eus': 'eus', 'per': 'per', 'fas': 'fas',\n  'ful': 'ful', 'fin': 'fin', 'fij': 'fij', 'fao': 'fao', 'fre': 'fre',\n  'fra': 'fra', 'fry': 'fry', 'gle': 'gle', 'gla': 'gla', 'glg': 'glg',\n  'grn': 'grn', 'guj': 'guj', 'glv': 'glv', 'hau': 'hau', 'heb': 'heb',\n  'hin': 'hin', 'hmo': 'hmo', 'hrv': 'hrv', 'hat': 'hat', 'hun': 'hun',\n  'arm': 'arm', 'hye': 'hye', 'her': 'her', 'ina': 'ina', 'ind': 'ind',\n  'ile': 'ile', 'ibo': 'ibo', 'iii': 'iii', 'ipk': 'ipk', 'ido': 'ido',\n  'ice': 'ice', 'isl': 'isl', 'ita': 'ita', 'iku': 'iku', 'jpn': 'jpn',\n  'jav': 'jav', 'geo': 'geo', 'kat': 'kat', 'kon': 'kon', 'kik': 'kik',\n  'kua': 'kua', 'kaz': 'kaz', 'kal': 'kal', 'khm': 'khm', 'kan': 'kan',\n  'kor': 'kor', 'kau': 'kau', 'kas': 'kas', 'kur': 'kur', 'kom': 'kom',\n  'cor': 'cor', 'kir': 'kir', 'lat': 'lat', 'ltz': 'ltz', 'lug': 'lug',\n  'lim': 'lim', 'lin': 'lin', 'lao': 'lao', 'lit': 'lit', 'lub': 'lub',\n  'lav': 'lav', 'mlg': 'mlg', 'mah': 'mah', 'mao': 'mao', 'mri': 'mri',\n  'mac': 'mac', 'mkd': 'mkd', 'mal': 'mal', 'mon': 'mon', 'mol': 'mol',\n  'mar': 'mar', 'may': 'may', 'msa': 'msa', 'mlt': 'mlt', 'bur': 'bur',\n  'mya': 'mya', 'nau': 'nau', 'nob': 'nob', 'nde': 'nde', 'nep': 'nep',\n  'ndo': 'ndo', 'dut': 'dut', 'nld': 'nld', 'nno': 'nno', 'nor': 'nor',\n  'nbl': 'nbl', 'nav': 'nav', 'nya': 'nya', 'oci': 'oci', 'oji': 'oji',\n  'orm': 'orm', 'ori': 'ori', 'oss': 'oss', 'pan': 'pan', 'pli': 'pli',\n  'pol': 'pol', 'pus': 'pus', 'por': 'por', 'que': 'que', 'roh': 'roh',\n  'run': 'run', 'rum': 'rum', 'ron': 'ron', 'rus': 'rus', 'kin': 'kin',\n  'san': 'san', 'srd': 'srd', 'snd': 'snd', 'sme': 'sme', 'sag': 'sag',\n  'slo': 'slo', 'sin': 'sin', 'slk': 'slk', 'slv': 'slv', 'smo': 'smo',\n  'sna': 'sna', 'som': 'som', 'alb': 'alb', 'sqi': 'sqi', 'srp': 'srp',\n  'ssw': 'ssw', 'sot': 'sot', 'sun': 'sun', 'swe': 'swe', 'swa': 'swa',\n  'tam': 'tam', 'tel': 'tel', 'tgk': 'tgk', 'tha': 'tha', 'tir': 'tir',\n  'tuk': 'tuk', 'tgl': 'tgl', 'tsn': 'tsn', 'ton': 'ton', 'tur': 'tur',\n  'tso': 'tso', 'tat': 'tat', 'twi': 'twi', 'tah': 'tah', 'uig': 'uig',\n  'ukr': 'ukr', 'urd': 'urd', 'uzb': 'uzb', 'ven': 'ven', 'vie': 'vie',\n  'vol': 'vol', 'wln': 'wln', 'wol': 'wol', 'xho': 'xho', 'yid': 'yid',\n  'yor': 'yor', 'zha': 'zha', 'chi': 'chi', 'zho': 'zho', 'zul': 'zul',\n};\n\nexport default ValidLanguages;\n","// @flow\n\nconst scorm12 = {\n  CMIString256: '^.{0,255}$',\n  CMIString4096: '^.{0,4096}$',\n  CMITime: '^(?:[01]\\\\d|2[0123]):(?:[012345]\\\\d):(?:[012345]\\\\d)$', // eslint-disable-line\n  CMITimespan: '^([0-9]{2,}):([0-9]{2}):([0-9]{2})(\\.[0-9]{1,2})?$', // eslint-disable-line\n  CMIInteger: '^\\\\d+$',\n  CMISInteger: '^-?([0-9]+)$',\n  CMIDecimal: '^-?([0-9]{0,3})(\\.[0-9]*)?$', // eslint-disable-line\n  CMIIdentifier: '^[\\\\u0021-\\\\u007E]{0,255}$',\n  CMIFeedback: '^.{0,255}$', // This must be redefined\n  CMIIndex: '[._](\\\\d+).',\n\n  // Vocabulary Data Type Definition\n  CMIStatus: '^(passed|completed|failed|incomplete|browsed)$',\n  CMIStatus2: '^(passed|completed|failed|incomplete|browsed|not attempted)$',\n  CMIExit: '^(time-out|suspend|logout|)$',\n  CMIType: '^(true-false|choice|fill-in|matching|performance|sequencing|likert|numeric)$',\n  CMIResult: '^(correct|wrong|unanticipated|neutral|([0-9]{0,3})?(\\\\.[0-9]*)?)$', // eslint-disable-line\n  NAVEvent: '^(previous|continue)$',\n\n  // Data ranges\n  score_range: '0#100',\n  audio_range: '-1#100',\n  speed_range: '-100#100',\n  weighting_range: '-100#100',\n  text_range: '-1#1',\n};\n\nconst aicc = {\n  ...scorm12, ...{\n    CMIIdentifier: '^\\\\w{1,255}$',\n  },\n};\n\nconst scorm2004 = {\n  CMIString200: '^[\\\\u0000-\\\\uFFFF]{0,200}$',\n  CMIString250: '^[\\\\u0000-\\\\uFFFF]{0,250}$',\n  CMIString1000: '^[\\\\u0000-\\\\uFFFF]{0,1000}$',\n  CMIString4000: '^[\\\\u0000-\\\\uFFFF]{0,4000}$',\n  CMIString64000: '^[\\\\u0000-\\\\uFFFF]{0,64000}$',\n  CMILang: '^([a-zA-Z]{2,3}|i|x)(\\-[a-zA-Z0-9\\-]{2,8})?$|^$', // eslint-disable-line\n  CMILangString250: '^(\\{lang=([a-zA-Z]{2,3}|i|x)(\\-[a-zA-Z0-9\\-]{2,8})?\\})?((?!\\{.*$).{0,250}$)?$', // eslint-disable-line\n  CMILangcr: '^((\\{lang=([a-zA-Z]{2,3}|i|x)?(\\-[a-zA-Z0-9\\-]{2,8})?\\}))(.*?)$', // eslint-disable-line\n  CMILangString250cr: '^((\\{lang=([a-zA-Z]{2,3}|i|x)?(\\-[a-zA-Z0-9\\-]{2,8})?\\})?(.{0,250})?)?$', // eslint-disable-line\n  CMILangString4000: '^(\\{lang=([a-zA-Z]{2,3}|i|x)(\\-[a-zA-Z0-9\\-]{2,8})?\\})?((?!\\{.*$).{0,4000}$)?$', // eslint-disable-line\n  CMITime: '^(19[7-9]{1}[0-9]{1}|20[0-2]{1}[0-9]{1}|203[0-8]{1})((-(0[1-9]{1}|1[0-2]{1}))((-(0[1-9]{1}|[1-2]{1}[0-9]{1}|3[0-1]{1}))(T([0-1]{1}[0-9]{1}|2[0-3]{1})((:[0-5]{1}[0-9]{1})((:[0-5]{1}[0-9]{1})((\\\\.[0-9]{1,2})((Z|([+|-]([0-1]{1}[0-9]{1}|2[0-3]{1})))(:[0-5]{1}[0-9]{1})?)?)?)?)?)?)?)?$',\n  CMITimespan: '^P(?:([.,\\\\d]+)Y)?(?:([.,\\\\d]+)M)?(?:([.,\\\\d]+)W)?(?:([.,\\\\d]+)D)?(?:T?(?:([.,\\\\d]+)H)?(?:([.,\\\\d]+)M)?(?:([.,\\\\d]+)S)?)?$',\n  CMIInteger: '^\\\\d+$',\n  CMISInteger: '^-?([0-9]+)$',\n  CMIDecimal: '^-?([0-9]{1,5})(\\\\.[0-9]{1,18})?$',\n  CMIIdentifier: '^\\\\S{1,250}[a-zA-Z0-9]$',\n  CMIShortIdentifier: '^[\\\\w\\\\.\\\\-\\\\_]{1,250}$', // eslint-disable-line\n  CMILongIdentifier: '^(?:(?!urn:)\\\\S{1,4000}|urn:[A-Za-z0-9-]{1,31}:\\\\S{1,4000}|.{1,4000})$', // need to re-examine this\n  CMIFeedback: '^.*$', // This must be redefined\n  CMIIndex: '[._](\\\\d+).',\n  CMIIndexStore: '.N(\\\\d+).',\n\n  // Vocabulary Data Type Definition\n  CMICStatus: '^(completed|incomplete|not attempted|unknown)$',\n  CMISStatus: '^(passed|failed|unknown)$',\n  CMIExit: '^(time-out|suspend|logout|normal)$',\n  CMIType: '^(true-false|choice|fill-in|long-fill-in|matching|performance|sequencing|likert|numeric|other)$',\n  CMIResult: '^(correct|wrong|unanticipated|neutral|-?([0-9]{1,4})(\\\\.[0-9]{1,18})?)$',\n  NAVEvent: '^(previous|continue|exit|exitAll|abandon|abandonAll|suspendAll|\\{target=\\\\S{0,200}[a-zA-Z0-9]\\}choice|jump)$', // eslint-disable-line\n  NAVBoolean: '^(unknown|true|false$)',\n  NAVTarget: '^(previous|continue|choice.{target=\\\\S{0,200}[a-zA-Z0-9]})$',\n\n  // Data ranges\n  scaled_range: '-1#1',\n  audio_range: '0#*',\n  speed_range: '0#*',\n  text_range: '-1#1',\n  progress_range: '0#1',\n};\n\nconst Regex = {\n  aicc: aicc,\n  scorm12: scorm12,\n  scorm2004: scorm2004,\n};\n\nexport default Regex;\n","// @flow\nimport Regex from './regex';\n\nconst scorm2004_regex = Regex.scorm2004;\n\nconst learner = {\n  'true-false': {\n    format: '^true$|^false$',\n    max: 1,\n    delimiter: '',\n    unique: false,\n  },\n  'choice': {\n    format: scorm2004_regex.CMIShortIdentifier,\n    max: 36,\n    delimiter: '[,]',\n    unique: true,\n  },\n  'fill-in': {\n    format: scorm2004_regex.CMILangString250,\n    max: 10,\n    delimiter: '[,]',\n    unique: false,\n  },\n  'long-fill-in': {\n    format: scorm2004_regex.CMILangString4000,\n    max: 1,\n    delimiter: '',\n    unique: false,\n  },\n  'matching': {\n    format: scorm2004_regex.CMIShortIdentifier,\n    format2: scorm2004_regex.CMIShortIdentifier,\n    max: 36,\n    delimiter: '[,]',\n    delimiter2: '[.]',\n    unique: false,\n  },\n  'performance': {\n    format: '^$|' + scorm2004_regex.CMIShortIdentifier,\n    format2: scorm2004_regex.CMIDecimal + '|^$|' +\n        scorm2004_regex.CMIShortIdentifier,\n    max: 250,\n    delimiter: '[,]',\n    delimiter2: '[.]',\n    unique: false,\n  },\n  'sequencing': {\n    format: scorm2004_regex.CMIShortIdentifier,\n    max: 36,\n    delimiter: '[,]',\n    unique: false,\n  },\n  'likert': {\n    format: scorm2004_regex.CMIShortIdentifier,\n    max: 1,\n    delimiter: '',\n    unique: false,\n  },\n  'numeric': {\n    format: scorm2004_regex.CMIDecimal,\n    max: 1,\n    delimiter: '',\n    unique: false,\n  },\n  'other': {\n    format: scorm2004_regex.CMIString4000,\n    max: 1,\n    delimiter: '',\n    unique: false,\n  },\n};\n\nconst correct = {\n  'true-false': {\n    max: 1,\n    delimiter: '',\n    unique: false,\n    duplicate: false,\n    format: '^true$|^false$',\n    limit: 1,\n  },\n  'choice': {\n    max: 36,\n    delimiter: '[,]',\n    unique: true,\n    duplicate: false,\n    format: scorm2004_regex.CMIShortIdentifier,\n  },\n  'fill-in': {\n    max: 10,\n    delimiter: '[,]',\n    unique: false,\n    duplicate: false,\n    format: scorm2004_regex.CMILangString250cr,\n  },\n  'long-fill-in': {\n    max: 1,\n    delimiter: '',\n    unique: false,\n    duplicate: true,\n    format: scorm2004_regex.CMILangString4000,\n  },\n  'matching': {\n    max: 36,\n    delimiter: '[,]',\n    delimiter2: '[.]',\n    unique: false,\n    duplicate: false,\n    format: scorm2004_regex.CMIShortIdentifier,\n    format2: scorm2004_regex.CMIShortIdentifier,\n  },\n  'performance': {\n    max: 250,\n    delimiter: '[,]',\n    delimiter2: '[.]',\n    unique: false,\n    duplicate: false,\n    format: '^$|' + scorm2004_regex.CMIShortIdentifier,\n    format2: scorm2004_regex.CMIDecimal + '|^$|' +\n        scorm2004_regex.CMIShortIdentifier,\n  },\n  'sequencing': {\n    max: 36,\n    delimiter: '[,]',\n    unique: false,\n    duplicate: false,\n    format: scorm2004_regex.CMIShortIdentifier,\n  },\n  'likert': {\n    max: 1,\n    delimiter: '',\n    unique: false,\n    duplicate: false,\n    format: scorm2004_regex.CMIShortIdentifier,\n    limit: 1,\n  },\n  'numeric': {\n    max: 2,\n    delimiter: '[:]',\n    unique: false,\n    duplicate: false,\n    format: scorm2004_regex.CMIDecimal,\n    limit: 1,\n  },\n  'other': {\n    max: 1,\n    delimiter: '',\n    unique: false,\n    duplicate: false,\n    format: scorm2004_regex.CMIString4000,\n    limit: 1,\n  },\n};\n\nconst Responses = {\n  learner: learner,\n  correct: correct,\n};\n\nexport default Responses;\n","// @flow\n\n/**\n * Data Validation Exception\n */\nexport class ValidationError extends Error {\n  /**\n   * Constructor to take in an error message and code\n   * @param {number} errorCode\n   */\n  constructor(errorCode: number) {\n    super(errorCode);\n    this.#errorCode = errorCode;\n  }\n\n  #errorCode;\n\n  /**\n   * Getter for #errorCode\n   * @return {number}\n   */\n  get errorCode() {\n    return this.#errorCode;\n  }\n\n  /**\n   * Trying to override the default Error message\n   * @return {string}\n   */\n  get message() {\n    return this.#errorCode + '';\n  }\n}\n","import Scorm2004API from './Scorm2004API';\nimport Scorm12API from './Scorm12API';\nimport AICC from './AICC';\n\nwindow.Scorm12API = Scorm12API;\nwindow.Scorm2004API = Scorm2004API;\nwindow.AICC = AICC;\n","// @flow\nexport const SECONDS_PER_SECOND = 1.0;\nexport const SECONDS_PER_MINUTE = 60;\nexport const SECONDS_PER_HOUR = 60 * SECONDS_PER_MINUTE;\nexport const SECONDS_PER_DAY = 24 * SECONDS_PER_HOUR;\n\nconst designations = [\n  ['D', SECONDS_PER_DAY],\n  ['H', SECONDS_PER_HOUR],\n  ['M', SECONDS_PER_MINUTE],\n  ['S', SECONDS_PER_SECOND],\n];\n\n/**\n * Converts a Number to a String of HH:MM:SS\n *\n * @param {Number} totalSeconds\n * @return {string}\n */\nexport function getSecondsAsHHMMSS(totalSeconds: Number) {\n  // SCORM spec does not deal with negative durations, give zero back\n  if (!totalSeconds || totalSeconds <= 0) {\n    return '00:00:00';\n  }\n\n  const hours = Math.floor(totalSeconds / SECONDS_PER_HOUR);\n\n  const dateObj = new Date(totalSeconds * 1000);\n  const minutes = dateObj.getUTCMinutes();\n  // make sure we add any possible decimal value\n  const seconds = dateObj.getSeconds();\n  const ms = totalSeconds % 1.0;\n  let msStr = '';\n  if (countDecimals(ms) > 0) {\n    if (countDecimals(ms) > 2) {\n      msStr = ms.toFixed(2);\n    } else {\n      msStr = String(ms);\n    }\n    msStr = '.' + msStr.split('.')[1];\n  }\n\n  return (hours + ':' + minutes + ':' + seconds).replace(/\\b\\d\\b/g,\n      '0$&') + msStr;\n}\n\n/**\n * Calculate the number of seconds from ISO 8601 Duration\n *\n * @param {Number} seconds\n * @return {String}\n */\nexport function getSecondsAsISODuration(seconds: Number) {\n  // SCORM spec does not deal with negative durations, give zero back\n  if (!seconds || seconds <= 0) {\n    return 'PT0S';\n  }\n\n  let duration = 'P';\n  let remainder = seconds;\n\n  designations.forEach(([sign, current_seconds]) => {\n    let value = Math.floor(remainder / current_seconds);\n\n    remainder = remainder % current_seconds;\n    if (countDecimals(remainder) > 2) {\n      remainder = Number(Number(remainder).toFixed(2));\n    }\n    // If we have anything left in the remainder, and we're currently adding\n    // seconds to the duration, go ahead and add the decimal to the seconds\n    if (sign === 'S' && remainder > 0) {\n      value += remainder;\n    }\n\n    if (value) {\n      if ((duration.indexOf('D') > 0 ||\n          sign === 'H' || sign === 'M' || sign === 'S') &&\n          duration.indexOf('T') === -1) {\n        duration += 'T';\n      }\n      duration += `${value}${sign}`;\n    }\n  });\n\n  return duration;\n}\n\n/**\n * Calculate the number of seconds from HH:MM:SS.DDDDDD\n *\n * @param {string} timeString\n * @param {RegExp} timeRegex\n * @return {number}\n */\nexport function getTimeAsSeconds(timeString: String, timeRegex: RegExp) {\n  if (!timeString || typeof timeString !== 'string' ||\n      !timeString.match(timeRegex)) {\n    return 0;\n  }\n  const parts = timeString.split(':');\n  const hours = Number(parts[0]);\n  const minutes = Number(parts[1]);\n  const seconds = Number(parts[2]);\n  return (hours * 3600) + (minutes * 60) + seconds;\n}\n\n/**\n * Calculate the number of seconds from ISO 8601 Duration\n *\n * @param {string} duration\n * @param {RegExp} durationRegex\n * @return {number}\n */\nexport function getDurationAsSeconds(duration: String, durationRegex: RegExp) {\n  if (!duration || !duration.match(durationRegex)) {\n    return 0;\n  }\n\n  const [, years, months, , days, hours, minutes, seconds] = new RegExp(\n      durationRegex).exec(duration) || [];\n\n  let result = 0.0;\n\n  result += (Number(seconds) * 1.0 || 0.0);\n  result += (Number(minutes) * 60.0 || 0.0);\n  result += (Number(hours) * 3600.0 || 0.0);\n  result += (Number(days) * (60 * 60 * 24.0) || 0.0);\n  result += (Number(years) * (60 * 60 * 24 * 365.0) || 0.0);\n\n  return result;\n}\n\n/**\n * Adds together two ISO8601 Duration strings\n *\n * @param {string} first\n * @param {string} second\n * @param {RegExp} durationRegex\n * @return {string}\n */\nexport function addTwoDurations(\n    first: String,\n    second: String,\n    durationRegex: RegExp) {\n  return getSecondsAsISODuration(\n      getDurationAsSeconds(first, durationRegex) +\n      getDurationAsSeconds(second, durationRegex),\n  );\n}\n\n/**\n * Add together two HH:MM:SS.DD strings\n *\n * @param {string} first\n * @param {string} second\n * @param {RegExp} timeRegex\n * @return {string}\n */\nexport function addHHMMSSTimeStrings(\n    first: String,\n    second: String,\n    timeRegex: RegExp) {\n  return getSecondsAsHHMMSS(\n      getTimeAsSeconds(first, timeRegex) +\n      getTimeAsSeconds(\n          second, timeRegex),\n  );\n}\n\n/**\n * Flatten a JSON object down to string paths for each values\n * @param {object} data\n * @return {object}\n */\nexport function flatten(data) {\n  const result = {};\n\n  /**\n   * Recurse through the object\n   * @param {*} cur\n   * @param {*} prop\n   */\n  function recurse(cur, prop) {\n    if (Object(cur) !== cur) {\n      result[prop] = cur;\n    } else if (Array.isArray(cur)) {\n      for (let i = 0, l = cur.length; i < l; i++) {\n        recurse(cur[i], prop + '[' + i + ']');\n        if (l === 0) result[prop] = [];\n      }\n    } else {\n      let isEmpty = true;\n      for (const p in cur) {\n        if ({}.hasOwnProperty.call(cur, p)) {\n          isEmpty = false;\n          recurse(cur[p], prop ? prop + '.' + p : p);\n        }\n      }\n      if (isEmpty && prop) result[prop] = {};\n    }\n  }\n\n  recurse(data, '');\n  return result;\n}\n\n/**\n * Un-flatten a flat JSON object\n * @param {object} data\n * @return {object}\n */\nexport function unflatten(data) {\n  'use strict';\n  if (Object(data) !== data || Array.isArray(data)) return data;\n  const regex = /\\.?([^.[\\]]+)|\\[(\\d+)]/g;\n  const result = {};\n  for (const p in data) {\n    if ({}.hasOwnProperty.call(data, p)) {\n      let cur = result;\n      let prop = '';\n      let m = regex.exec(p);\n      while (m) {\n        cur = cur[prop] || (cur[prop] = (m[2] ? [] : {}));\n        prop = m[2] || m[1];\n        m = regex.exec(p);\n      }\n      cur[prop] = data[p];\n    }\n  }\n  return result[''] || result;\n}\n\n/**\n * Counts the number of decimal places\n * @param {number} num\n * @return {number}\n */\nexport function countDecimals(num: number) {\n  if (Math.floor(num) === num || String(num).indexOf('.') < 0) return 0;\n  const parts = num.toString().split('.')[1];\n  return parts.length || 0;\n}\n"]}